import{a as v}from"./NavLink-BXQnaibR.js";import{f as n,o as d,b as e,a,u as r,_ as s,Z as k,w as h,e as l,t as o,g as p,n as q,F as y,N as g,l as u}from"./app-Dy-6RBJ3.js";import{_ as j}from"./ReqTabs-Dzz1uf5v.js";import{_ as C}from"./Card-CTpZneKR.js";import"./useRequestStatusTypes-D5Zb9WEt.js";import{r as R}from"./CheckCircleIcon-Bj6gMXkD.js";import{r as $}from"./CalendarDaysIcon-CcPb-_qD.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function B(t,c){return d(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})])}function N(t,c){return d(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})])}function S(t,c){return d(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function V(t,c){return d(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const M={class:"py-8 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8 animate-fade-in-up"},A=["href"],Z={class:"p-8 border-b border-white/5 bg-white/[0.02]"},E={class:"flex flex-col md:flex-row md:justify-between md:items-start gap-6"},F={class:"flex items-center gap-3 mb-2"},D={class:"text-sm font-mono font-bold text-red-500/80"},T={class:"text-3xl font-black text-white tracking-tight"},U={key:0,class:"flex gap-3"},z={class:"p-8 space-y-8"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},P={class:"bg-white/5 rounded-xl p-5 border border-white/10"},G={class:"flex items-center gap-3 mb-3"},H={class:"w-10 h-10 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center justify-center"},I={class:"text-[10px] font-bold text-gray-500 uppercase tracking-widest"},J={class:"text-lg font-bold text-white"},K={class:"bg-white/5 rounded-xl p-5 border border-white/10"},L={class:"flex items-center gap-3 mb-3"},Q={class:"w-10 h-10 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center justify-center"},W={class:"text-[10px] font-bold text-gray-500 uppercase tracking-widest"},X={class:"text-lg font-bold text-white"},Y={key:0,class:"text-gray-400"},ee={key:0,class:"bg-white/5 rounded-xl p-5 border border-white/10"},te={class:"flex items-start gap-3"},se={class:"w-10 h-10 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center justify-center flex-shrink-0"},re={class:"text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-2"},oe={class:"text-gray-300 leading-relaxed"},ae={key:1,class:"bg-white/5 rounded-xl p-5 border border-white/10 text-center"},ne={class:"text-gray-500 text-sm italic"},ge={__name:"RequestView",props:{request:Object},setup(t){const c=t,w=i=>{switch(i){case 0:return"text-amber-400 bg-amber-400/10 border-amber-400/20";case 1:return"text-emerald-400 bg-emerald-400/10 border-emerald-400/20";case 2:return"text-rose-400 bg-rose-400/10 border-rose-400/20";default:return"text-gray-400 bg-gray-400/10 border-gray-400/20"}},_=i=>{switch(i){case 0:return s("Pending");case 1:return s("Approved");case 2:return s("Rejected");default:return s("Unknown")}},f=()=>{g.put(route("requests.update",{request:c.request.request_id}),{status:1},{onSuccess:()=>{u().success(s("Request Approved"))},onError:()=>{u().error(s("Failed to update request"))}})},b=()=>{g.put(route("requests.update",{request:c.request.request_id}),{status:2},{onSuccess:()=>{u().success(s("Request Rejected"))},onError:()=>{u().error(s("Failed to update request"))}})};return(i,de)=>(d(),n(y,null,[a(r(k),{title:r(s)("Request Details")},null,8,["title"]),a(v,null,{tabs:h(()=>[a(j)]),default:h(()=>[e("div",M,[e("a",{href:i.route("requests.index"),class:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors text-sm font-medium"},[a(r(B),{class:"w-4 h-4"}),l(" "+o(r(s)("Back to Requests")),1)],8,A),a(C,{variant:"glass",class:"!mt-4 overflow-hidden"},{default:h(()=>{var x,m;return[e("div",Z,[e("div",E,[e("div",null,[e("div",F,[e("span",D,"#"+o((x=t.request.request_id)==null?void 0:x.toString().padStart(4,"0")),1),e("span",{class:q([w(t.request.status),"inline-flex items-center px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border shadow-sm"])},o(_(t.request.status)),3)]),e("h1",T,o(t.request.type),1)]),["admin","owner"].includes(i.$page.props.auth.user.role)&&t.request.status===0&&t.request.user_id!==i.$page.props.auth.user.user_id?(d(),n("div",U,[e("button",{onClick:f,class:"inline-flex items-center gap-2 px-5 py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-bold text-sm transition-all shadow-lg shadow-emerald-600/20"},[a(r(R),{class:"w-5 h-5"}),l(" "+o(r(s)("Approve")),1)]),e("button",{onClick:b,class:"inline-flex items-center gap-2 px-5 py-2.5 bg-rose-600 hover:bg-rose-700 text-white rounded-xl font-bold text-sm transition-all shadow-lg shadow-rose-600/20"},[a(r(V),{class:"w-5 h-5"}),l(" "+o(r(s)("Reject")),1)])])):p("",!0)])]),e("div",z,[e("div",O,[e("div",P,[e("div",G,[e("div",H,[a(r(S),{class:"w-5 h-5 text-red-500"})]),e("div",null,[e("p",I,o(r(s)("Employee")),1),e("p",J,o(((m=t.request.employee)==null?void 0:m.name)||r(s)("Unknown")),1)])])]),e("div",K,[e("div",L,[e("div",Q,[a(r($),{class:"w-5 h-5 text-red-500"})]),e("div",null,[e("p",W,o(r(s)("Duration")),1),e("p",X,[l(o(t.request.start_date)+" ",1),t.request.end_date?(d(),n("span",Y," â†’ "+o(t.request.end_date),1)):p("",!0)])])])])]),t.request.remark?(d(),n("div",ee,[e("div",te,[e("div",se,[a(r(N),{class:"w-5 h-5 text-red-500"})]),e("div",null,[e("p",re,o(r(s)("Remarks")),1),e("p",oe,o(t.request.remark),1)])])])):(d(),n("div",ae,[e("p",ne,o(r(s)("No remarks provided")),1)]))])]}),_:1})])]),_:1})],64))}};export{ge as default};
