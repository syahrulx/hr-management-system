import{_ as L}from"./AuthenticatedLayout-DVBZZxv2.js";import{e as B,a as g,o as h,b as d,t as o,y as w,m as A,B as O,F as $,Q as P,n as T,f as t,u as l,_ as s,Z as z,g as e,h as p,i as r,l as V}from"./app-B0hmWrIt.js";import{_ as j}from"./EmployeeTabs-CD4J6pcQ.js";import{_ as M}from"./FlexButton-DOwAwIBM.js";import{a as I}from"./index-jUMEO9I8.js";import{_ as b}from"./Card-DGziJDZR.js";import{M as S}from"./ModifyIcon-DTfPOOKY.js";import{D as C,_ as u,a as c,b as m}from"./DescriptionListItem-BIX_uJ_a.js";import{_ as Y,T as G,a as x,b as v}from"./TableRow-D27NAF2o.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-TT7O-nR-.js";import"./GoBackNavLink-BUbZ5ERw.js";import"./Paginator-BVuW1982.js";const q=["data-modal-target","data-modal-toggle"],Q=["id"],R={class:"relative w-full max-w-2xl max-h-full"},U={class:"relative bg-white rounded-lg shadow dark:bg-gray-800"},Z={class:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600"},J={class:"text-xl text-gray-900 dark:text-white"},K=["data-modal-hide"],W={class:"p-6 space-y-6"},X={class:"flex items-center p-6 space-x-2 rtl:space-x-reverse border-t border-gray-200 rounded-b dark:border-gray-600"},ee={key:0},te={key:1},ae=["data-modal-hide"],le=["data-modal-hide"],oe={__name:"GenericModal",props:{title:String,modalId:String,modalHeader:String,hasCustomFooter:{type:Boolean,default:!1},footerActionName:{type:String,default:"Close"},hasCancel:{type:Boolean,default:!1}},setup(a){return B(()=>{I()}),(n,i)=>(h(),g($,null,[d("a",{"data-modal-target":a.modalId,"data-modal-toggle":a.modalId,class:"cursor-pointer text-xs font-medium text-purple-600 dark:text-purple-500 hover:underline"},o(a.title),9,q),d("div",{id:a.modalId,tabindex:"-1","aria-hidden":"true",class:"fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full"},[d("div",R,[d("div",U,[d("div",Z,[d("h3",J,o(a.modalHeader),1),d("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":a.modalId},i[0]||(i[0]=[d("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[d("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),d("span",{class:"sr-only"},"Close modal",-1)]),8,K)]),d("div",W,[w(n.$slots,"default")]),d("div",X,[a.hasCustomFooter?(h(),g("div",ee,[w(n.$slots,"customFooter")])):(h(),g("div",te,[d("button",{"data-modal-hide":a.modalId,type:"button",class:"text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:outline-none focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-purple-700 dark:hover:bg-purple-700 dark:focus:ring-purple-800"},o(a.footerActionName),9,ae),A(d("button",{"data-modal-hide":a.modalId,type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-purple-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Cancel ",8,le),[[O,a.hasCancel]])]))])])])],8,Q)],64))}};function se(){function a(n){const i={year:"numeric",month:"long",day:"numeric"},f=1800+(parseInt(n.charAt(0))-1)*100+parseInt(n.substr(1,2)),y=parseInt(n.substr(3,2)),k=parseInt(n.substr(5,2)),E=n.substr(7,2),H={"01":"القاهرة","02":"الإسكندرية","03":"بورسعيد","04":"السويس",11:"دمياط",12:"الدقهلية",13:"الشرقية",14:"القليوبية",15:"كفر الشيخ",16:"الغربية",17:"المنوفية",18:"البحيرة",19:"الإسماعيلية",21:"الجيزة",22:"بني سويف",23:"الفيوم",24:"المنيا",25:"أسيوط",26:"سوهاج",27:"قنا",28:"أسوان",29:"الأقصر",31:"البحر الأحمر",32:"الوادي الجديد",33:"مطروح",34:"شمال سيناء",35:"جنوب سيناء",88:"خارج الجمهورية"}[E],F=parseInt(n.charAt(12))%2!==0,D=new Date(f,y-1,k);return{year:f,month:y,day:k,date:D.toLocaleDateString("en-uk",i),date_localized:D.toLocaleDateString(P().props.locale,i),state:H,isMale:F}}return{extractPersonalDetails:a}}const de={class:"overflow-hidden sm:rounded-lg"},re={class:T("grid grid-cols-2")},ne={__name:"HistoryDescriptionList",props:{},setup(a){return(n,i)=>(h(),g("div",de,[d("dl",null,[d("div",re,[w(n.$slots,"default")])])]))}};function ie(a){const n=new Date(a),i=new Date;let _=i.getFullYear()-n.getFullYear();return(i.getMonth()<n.getMonth()||i.getMonth()===n.getMonth()&&i.getDate()<n.getDate())&&_--,Math.abs(_)}const ue={class:"py-8"},ce={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},me={class:"flex justify-between items-center mb-4"},fe={class:"card-header"},he={class:"flex inline-flex gap-4"},_e={class:"card-subheader"},ge=["href"],ye=["href"],pe=["href"],be={class:"mb-2 ml-1 font-semibold"},xe={class:"mb-2 ml-1 font-semibold"},ve={class:"px-4 py-3.5"},we={class:"text-sm font-medium"},Pe={__name:"EmployeeView",props:{employee:Object},setup(a){let{extractPersonalDetails:n}=se();B(()=>{I()});const i=a;return(_,N)=>(h(),g($,null,[t(l(z),{title:l(s)("Employee View")},null,8,["title"]),t(L,null,{tabs:e(()=>[t(j)]),default:e(()=>[d("div",ue,[d("div",ce,[t(b,{class:"!mt-0"},{default:e(()=>[d("div",me,[d("h1",fe,o(l(s)("Employee View")),1),d("div",he,[_.$page.props.auth.user.role==="admin"?(h(),p(M,{key:0,text:l(s)("Modify Employee Data"),href:_.route("employees.edit",{id:a.employee.id})},{default:e(()=>[t(S)]),_:1},8,["text","href"])):(h(),p(M,{key:1,text:l(s)("Modify Data"),href:_.route("profile.edit",{id:a.employee.id})},{default:e(()=>[t(S)]),_:1},8,["text","href"]))])]),d("h2",_e,o(l(s)("Basic Info")),1),t(C,null,{default:e(()=>[t(u,{colored:""},{default:e(()=>[t(c,null,{default:e(()=>[r(o(l(s)("Name")),1)]),_:1}),t(m,null,{default:e(()=>[r(o(a.employee.name),1)]),_:1})]),_:1}),t(u,{colored:""},{default:e(()=>[t(c,null,{default:e(()=>[r(o(l(s)("ID")),1)]),_:1}),t(m,null,{default:e(()=>[r(o(a.employee.id),1)]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(c,null,{default:e(()=>[r(o(l(s)("Phone")),1)]),_:1}),t(m,null,{default:e(()=>[d("a",{href:"tel:"+a.employee.phone},o(a.employee.phone),9,ge)]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(c,null,{default:e(()=>[r(o(l(s)("National ID")),1)]),_:1}),t(m,null,{default:e(()=>[r(o(a.employee.national_id),1)]),_:1})]),_:1}),t(u,{colored:""},{default:e(()=>[t(c,null,{default:e(()=>[r(o(l(s)("Email")),1)]),_:1}),t(m,null,{default:e(()=>[d("a",{href:"mailto:"+a.employee.email},o(a.employee.email),9,ye)]),_:1})]),_:1}),t(u,{colored:""},{default:e(()=>[t(c,null,{default:e(()=>[r(o(l(s)("Gender")),1)]),_:1}),t(m,null,{default:e(()=>[r(o(l(n)(a.employee.national_id).isMale?l(s)("Male"):l(s)("Female")),1)]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(c,null,{default:e(()=>[r(o(l(s)("Birthday")),1)]),_:1}),t(m,null,{default:e(()=>[r(o(l(n)(a.employee.national_id).date_localized+" - "+l(ie)(l(n)(a.employee.national_id).date)+" "+l(s)("Years")),1)]),_:1})]),_:1}),t(u,{colored:""},{default:e(()=>[t(c,null,{default:e(()=>[r(o(l(s)("Hire Date")),1)]),_:1}),t(m,null,{default:e(()=>[r(o(a.employee.hired_on),1)]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(c,null,{default:e(()=>[r(o(l(s)("Address")),1)]),_:1}),t(m,null,{default:e(()=>[d("a",{href:"https://www.google.com/maps/search/?api=1&query="+i.employee.address,target:"”_blank”"},o(a.employee.address),9,pe)]),_:1})]),_:1})]),_:1})]),_:1}),t(b,null,{default:e(()=>[d("h2",be,o(l(s)("Technical Info")),1),t(C,null,{default:e(()=>[t(u,null,{default:e(()=>[t(c,null,{default:e(()=>[r(o(l(s)("Access Permissions")),1)]),_:1}),t(m,null,{default:e(()=>[r(o(a.employee.user_role?a.employee.user_role.replace(/_/g," ").replace(/\b\w/g,f=>f.toUpperCase()):l(s)("Not Assigned")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(b,null,{default:e(()=>[d("h2",xe,o(l(s)("History")),1),t(ne,null,{default:e(()=>[d("div",ve,[d("dt",we,o(l(s)("Previous Shifts")),1),t(oe,{modalId:"Shifts Modal",title:l(s)("Click Here To See Shifts History"),modalHeader:l(s)("Previous Shifts"),hasCancel:!1},{default:e(()=>[t(Y,{totalNumber:1,enablePaginator:!1},{Head:e(()=>[t(v,null,{default:e(()=>[r(o(l(s)("Shift")),1)]),_:1}),t(v,null,{default:e(()=>[r(o(l(s)("Starting From")),1)]),_:1}),t(v,null,{default:e(()=>[r(o(l(s)("Ending At")),1)]),_:1})]),Body:e(()=>[(h(!0),g($,null,V(a.employee.employee_shifts,f=>(h(),p(G,{key:f.id},{default:e(()=>[t(x,null,{default:e(()=>{var y;return[r(o(((y=f.shift)==null?void 0:y.name)??l(s)("DELETED SHIFT")),1)]}),_:2},1024),t(x,null,{default:e(()=>[r(o(f.start_date),1)]),_:2},1024),t(x,null,{default:e(()=>[r(o(f.end_date??l(s)("Current")),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["title","modalHeader"])])]),_:1})]),_:1})])])]),_:1})],64))}};export{Pe as default};
