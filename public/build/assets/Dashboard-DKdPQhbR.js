import{f as d,o as n,b as e,r as A,k as H,T as L,h as z,_ as t,l as V,m as E,p as F,q as O,a as i,u as r,Z as q,w as h,c as v,g as S,n as C,t as o,e as T,d as P,F as j,s as $,v as R,Q as m}from"./app-x9X0OzoV.js";import{_,C as D,T as W,a as Z,b as U}from"./Card-uT5VCw16.js";import{_ as J}from"./GoBackNavLink-DY91qUZX.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index--HqqyPlz.js";import{S as g}from"./sweetalert2-z6gKu1nJ.js";import{r as Q}from"./BriefcaseIcon-Bf7YJkXF.js";function G(s,c){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})])}function Y(s,c){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"})])}function X(s){var k;const c=A(localStorage.getItem("lastApiCallTimestamp")||null),y="https://api.quotable.io/quotes/random?tags=Work|Motivational|Inspirational|Creativity";async function B(){try{const u=await fetch(y);if(!u.ok)throw new Error("API call error.");const x=await u.json();s.value=x[0],c.value=Date.now(),localStorage.setItem("lastApiCallTimestamp",c.value),localStorage.setItem("quote",JSON.stringify(x))}catch(u){throw new Error("Network response was NOT ok:",u)}}function b(){return c.value?Date.now()-c.value>=936e5:!0}b()?B():s.value=(k=JSON.parse(localStorage.getItem("quote")))==null?void 0:k[0]}const ee={class:"py-8 max-w-7xl mx-auto sm:px-6 lg:px-8 animate-fade-in-up"},te={class:"grid grid-cols-1 lg:grid-cols-4 gap-6 auto-rows-min"},se={class:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center h-full"},oe={class:"text-sm font-medium text-red-400 uppercase tracking-wider mb-1"},re={class:"text-4xl font-bold text-white mb-2"},ae={class:"text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-red-200"},ne={key:0,class:"text-gray-400 max-w-xl text-sm leading-relaxed"},le={class:"text-red-400"},ie={key:1,class:"text-gray-400 max-w-xl text-sm leading-relaxed"},de={class:"hidden md:block opacity-50 group-hover:opacity-100 transition-opacity duration-700"},ce={class:"p-6 flex-1 flex flex-col justify-center items-center text-center relative z-10"},ue={class:"text-xl font-bold text-white mb-2"},fe={class:"mb-3"},he={class:"text-3xl font-mono font-bold tracking-wider px-4 py-2 rounded-lg text-white bg-white/5 border border-white/10"},me={class:"mb-6 space-y-2 text-sm font-medium w-full px-4"},ge={key:0,class:"flex items-center justify-center gap-2 text-emerald-400 bg-emerald-400/10 py-1.5 px-3 rounded-lg border border-emerald-400/20 shadow-sm backdrop-blur-sm"},be={key:1,class:"flex items-center justify-center gap-2 text-amber-400 bg-amber-400/10 py-1.5 px-3 rounded-lg border border-amber-400/20 shadow-sm backdrop-blur-sm"},xe={class:"relative z-10 group-hover:tracking-widest transition-all duration-300"},_e={key:1,class:"w-full py-4 rounded-xl font-bold text-amber-400 bg-amber-400/10 border border-amber-400/20 text-center cursor-not-allowed"},pe={key:1,class:"w-full py-4 rounded-xl font-bold text-white bg-white/5 border border-white/10 text-center cursor-not-allowed opacity-70"},we={class:"text-xs uppercase text-gray-500 mb-1"},ve={class:"text-lg"},ye={key:2,class:"w-full py-4 rounded-xl font-bold text-white bg-white/5 border border-white/10 text-center cursor-not-allowed opacity-70"},ke={class:"flex items-center justify-between"},Se={class:"text-gray-400 text-xs uppercase font-bold tracking-wider"},Ce={class:"text-3xl font-bold text-white mt-1"},Te={class:"p-3 bg-red-500/10 rounded-lg"},Be={class:"flex items-center justify-between"},Ie={class:"text-gray-400 text-xs uppercase font-bold tracking-wider"},je={class:"text-3xl font-bold text-emerald-400 mt-1"},De={class:"p-3 bg-emerald-500/20 rounded-lg"},Ae={class:"flex items-center justify-between"},Ne={class:"text-gray-400 text-xs uppercase font-bold tracking-wider"},Me={class:"text-3xl font-bold text-amber-400 mt-1"},Oe={class:"p-3 bg-amber-500/20 rounded-lg"},He={class:"flex items-center justify-between"},Le={class:"text-gray-400 text-xs uppercase font-bold tracking-wider"},ze={class:"text-3xl font-bold text-purple-400 mt-1"},Ve={class:"p-3 bg-purple-500/20 rounded-lg"},Ee={class:"flex justify-between items-center mb-6"},Fe={class:"text-lg font-bold text-gray-100 tracking-tight"},qe={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Pe={class:"relative z-10 flex items-center justify-between"},$e={class:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"},Re={class:"flex items-end gap-2"},We={class:"text-sm text-gray-500 mb-1"},Ze={class:"p-3 bg-white/5 rounded-lg border border-white/5 group-hover:scale-110 transition-transform duration-300"},Ue={class:"w-full bg-gray-700/50 rounded-full h-1.5 mt-4 overflow-hidden"},Je={__name:"Dashboard",props:{employee_stats:Object,attendance_status:Number,is_today_off:Boolean,is_owner:Boolean,owner_stats:Object,sign_in_time:String,leaveBalances:Array,sign_off_time:String,has_schedule_today:Boolean,is_too_early:Boolean,can_clock_out:Boolean,shift_start_time:String},setup(s){const c=s;H();const y=new Date().toLocaleDateString("en-GB",{weekday:"short",day:"2-digit",month:"2-digit",year:"numeric"}),B=L({});z(()=>c.attendance_status===0?t("Clock in"):t("Clock out"));let b=c.attendance_status===0;V(()=>c.attendance_status,()=>{b=c.attendance_status===0});const k=()=>{const f=b?"attendance.dashboardSignIn":"attendance.dashboardSignOff";g.mixin({customClass:{cancelButton:"mx-4 text-white bg-red-700 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",confirmButton:"text-white bg-red-700 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"},buttonsStyling:!1}).fire({title:t("Confirm :signType for attendance for :today?",{signType:b?t("Sign in"):t("Sign off"),today:y}),html:b.value?"<b>"+t("Notes")+"</b><br>"+t("1. Attendance for non-remote employees can only be taken from inside the organization.")+"<br>"+t("2. You need to register sign-off here again before leaving, otherwise, your attendance will not be accounted."):"",icon:"info",showCancelButton:!0,confirmButtonText:t("Confirm"),cancelButtonText:t("Cancel"),reverseButtons:!0}).then(p=>{p.isConfirmed&&B.post(route(f),{preserveScroll:!0,onError:()=>{m().props.errors.ip_error?g.fire(t("Attendance Error"),m().props.errors.ip_error,"error"):m().props.errors.no_ip?g.fire(t("IP Error"),m().props.errors.no_ip,"error"):m().props.errors.authorization_error?g.fire(t("Authorization Error"),m().props.errors.authorization_error,"error"):m().props.errors.day_off?g.fire(t("Today is OFF!"),m().props.errors.day_off,"error"):m().props.errors.schedule_error?g.fire(t("Schedule Error"),m().props.errors.schedule_error,"error"):g.fire(t("Error"),t("Something went wrong.")+"</br>"+t("Please contact your administrator of this error"),"error")},onSuccess:()=>{g.fire(t("Action Registerd"),b?t("Don't forget to come here and sign-off before you leave so that the attendance gets registered!"):"","success")}})})},u=A(null),x=f=>{if(!f)return"";const[l,p]=f.split(":"),w=new Date;return w.setHours(l),w.setMinutes(p),w.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},N=A("");let I=null;const M=()=>{const f=new Date;N.value=f.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})};return E(()=>{X(u),M(),I=setInterval(M,1e3)}),F(()=>{I&&clearInterval(I)}),(f,l)=>{const p=O("RocketIcon"),w=O("UserIcon");return n(),d(j,null,[i(r(q),{title:r(t)("Dashboard")},null,8,["title"]),i(U,null,{tabs:h(()=>[i(J),i(Z,{href:f.route("dashboard.index"),active:f.route().current("dashboard.index")},{default:h(()=>[T(o(r(t)("Dashboard")),1)]),_:1},8,["href","active"])]),default:h(()=>[e("div",ee,[e("div",te,[i(_,{variant:"glass",class:C(["!mt-0 relative overflow-hidden group",s.is_owner?"lg:col-span-4 min-h-[250px] flex flex-col justify-center":"lg:col-span-3"])},{default:h(()=>[l[1]||(l[1]=e("div",{class:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-red-600/20 to-transparent rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"},null,-1)),e("div",se,[e("div",null,[e("h2",oe,o(r(y)),1),e("h1",re,[T(o(r(t)("Welcome back,"))+" ",1),e("span",ae,o(f.$page.props.auth.user.name),1),l[0]||(l[0]=T("! ",-1))]),u.value?(n(),d("p",ne,[T(' "'+o(u.value.content)+'" â€” ',1),e("span",le,o(u.value.author),1)])):(n(),d("p",ie,' "'+o(r(t)("Success is not the key to happiness. Happiness is the key to success."))+'" ',1))]),e("div",de,[i(p,{class:"w-24 h-24 text-red-500/20"})])])]),_:1},8,["class"]),s.is_owner?S("",!0):(n(),v(_,{key:0,variant:"glass",class:"lg:col-span-1 lg:row-span-2 !mt-0 flex flex-col justify-between relative overflow-hidden h-full min-h-[300px]",noPadding:!0},{default:h(()=>[l[4]||(l[4]=e("div",{class:"absolute inset-0 bg-gradient-to-b from-red-900/10 to-transparent pointer-events-none"},null,-1)),e("div",ce,[e("div",{class:C(["w-24 h-24 rounded-full flex items-center justify-center mb-6 shadow-[0_0_30px_rgba(220,38,38,0.3)] transition-all duration-500",s.attendance_status===0?"bg-red-500/20 text-red-400 border border-red-500/50":s.attendance_status===1?"bg-green-500/20 text-green-400 border border-green-500/50":"bg-amber-500/20 text-amber-400 border border-amber-500/50"])},[i(D,{class:"w-10 h-10"})],2),e("h3",ue,o(!s.has_schedule_today&&s.attendance_status===0?r(t)("Day Off"):s.attendance_status===0?r(t)("Not Signed In"):s.attendance_status===1?r(t)("Currently Working"):r(t)("Completed")),1),e("div",fe,[e("div",he,o(N.value),1)]),e("div",me,[s.sign_in_time?(n(),d("div",ge,[l[2]||(l[2]=e("span",{class:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"},null,-1)),e("span",null,o(r(t)("In"))+": "+o(x(s.sign_in_time)),1)])):S("",!0),s.sign_off_time?(n(),d("div",be,[l[3]||(l[3]=e("span",{class:"w-1.5 h-1.5 rounded-full bg-amber-400"},null,-1)),e("span",null,o(r(t)("Out"))+": "+o(x(s.sign_off_time)),1)])):S("",!0)]),s.has_schedule_today&&!s.is_too_early||s.attendance_status===1?(n(),d("form",{key:0,onSubmit:P(k,["prevent"]),class:"w-full"},[s.attendance_status===0&&!s.is_too_early||s.attendance_status===1&&s.can_clock_out?(n(),d("button",{key:0,class:C(["w-full py-4 rounded-xl font-bold text-white shadow-lg transition-all duration-300 transform hover:scale-105 active:scale-95 group relative overflow-hidden",s.attendance_status===0?"bg-gradient-to-br from-red-600 to-red-800 shadow-red-900/40":"bg-gradient-to-br from-gray-700 to-gray-900 shadow-black/40 border border-white/10"])},[e("span",xe,o(s.attendance_status===0?r(t)("CLOCK IN"):r(t)("CLOCK OUT")),1)],2)):s.attendance_status===1&&!s.can_clock_out?(n(),d("div",_e,[e("span",null,o(r(t)("Window Closed (Max 1hr Late)")),1)])):S("",!0)],32)):s.has_schedule_today&&s.is_too_early?(n(),d("div",pe,[e("div",we,o(r(t)("Shift Starts at")),1),e("div",ve,o(x(s.shift_start_time)),1)])):(n(),d("div",ye,[e("span",null,o(r(t)("No Shift Today ðŸ›Œ")),1)]))])]),_:1})),s.is_owner?(n(),d(j,{key:1},[i(_,{variant:"glass",class:"lg:col-span-1 !mt-0 h-full flex flex-col justify-center"},{default:h(()=>{var a;return[e("div",ke,[e("div",null,[e("p",Se,o(r(t)("Total Staff")),1),e("p",Ce,o(((a=s.owner_stats)==null?void 0:a.staffCount)??0),1)]),e("div",Te,[i(w,{class:"w-6 h-6 text-red-400"})])])]}),_:1}),i(_,{variant:"glass",class:"lg:col-span-1 !mt-0 h-full flex flex-col justify-center"},{default:h(()=>{var a;return[e("div",Be,[e("div",null,[e("p",Ie,o(r(t)("Present")),1),e("p",je,o(((a=s.owner_stats)==null?void 0:a.presentToday)??0),1)]),e("div",De,[i(W,{class:"w-6 h-6 text-emerald-400"})])])]}),_:1}),i(_,{variant:"glass",class:"lg:col-span-1 !mt-0 h-full flex flex-col justify-center"},{default:h(()=>{var a;return[e("div",Ae,[e("div",null,[e("p",Ne,o(r(t)("Late")),1),e("p",Me,o(((a=s.owner_stats)==null?void 0:a.lateToday)??0),1)]),e("div",Oe,[i(D,{class:"w-6 h-6 text-amber-400"})])])]}),_:1}),i(_,{variant:"glass",class:"lg:col-span-1 !mt-0 h-full flex flex-col justify-center"},{default:h(()=>{var a;return[e("div",He,[e("div",null,[e("p",Le,o(r(t)("Leave Requests")),1),e("p",ze,o(((a=s.owner_stats)==null?void 0:a.pendingRequests)??0),1)]),e("div",Ve,[i(r(G),{class:"w-6 h-6 text-purple-400"})])])]}),_:1})],64)):(n(),v(_,{key:2,variant:"glass",class:"lg:col-span-3 !mt-0 relative overflow-hidden"},{default:h(()=>[e("div",Ee,[e("h3",Fe,o(r(t)("My Status")),1)]),e("div",qe,[(n(!0),d(j,null,$(s.leaveBalances,a=>(n(),d("div",{key:a.leave_type,class:"relative group bg-white/5 border border-white/10 rounded-xl p-6 overflow-hidden transition-all duration-300 hover:bg-white/10 hover:border-white/20"},[l[5]||(l[5]=e("div",{class:"absolute -right-6 -top-6 w-24 h-24 bg-gradient-to-br from-red-500/10 to-transparent rounded-full blur-2xl group-hover:bg-red-500/20 transition-all duration-500"},null,-1)),e("div",Pe,[e("div",null,[e("p",$e,o(r(t)(a.leave_type)),1),e("div",Re,[e("span",{class:C(["text-3xl font-bold",a.balance>0?"text-white":"text-red-400"])},o(a.balance),3),e("span",We,"/ "+o(a.total)+" "+o(r(t)("Days")),1)])]),e("div",Ze,[a.leave_type==="Annual Leave"?(n(),v(r(Q),{key:0,class:"w-6 h-6 text-red-500"})):a.leave_type==="Sick Leave"?(n(),v(r(Y),{key:1,class:"w-6 h-6 text-red-500"})):(n(),v(D,{key:2,class:"w-6 h-6 text-red-500"}))])]),e("div",Ue,[e("div",{class:"h-1.5 rounded-full bg-red-500 transition-all duration-1000 ease-out",style:R({width:Math.min(a.balance/a.total*100,100)+"%"})},null,4)])]))),128))])]),_:1}))])])]),_:1})],64)}}},st=K(Je,[["__scopeId","data-v-0f7b28af"]]);export{st as default};
