import{_ as A}from"./AuthenticatedLayout-ChNucw6q.js";import{x as H,f as c,o as u,b as s,t as o,k as y,i as O,L as P,F as k,Q as T,n as N,a as t,u as l,_ as r,Z as V,w as e,c as b,e as n,K as j}from"./app-DhlWhibi.js";import{_ as Y}from"./EmployeeTabs-j75v0ydq.js";import{_ as S}from"./FlexButton-Csg9tjEn.js";import{i as L}from"./index--HqqyPlz.js";import{_ as v}from"./Card-BxnZUkzp.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as q,T as G,a as $,b as w}from"./TableRow-DXuLoxAw.js";import"./NavLink-B32f-vXH.js";import"./GoBackNavLink-DFQhtoJg.js";const K=["data-modal-target","data-modal-toggle"],Q=["id"],R={class:"relative w-full max-w-2xl max-h-full"},U={class:"relative bg-white rounded-lg shadow dark:bg-gray-800"},Z={class:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600"},J={class:"text-xl text-gray-900 dark:text-white"},W=["data-modal-hide"],X={class:"p-6 space-y-6"},ee={class:"flex items-center p-6 space-x-2 rtl:space-x-reverse border-t border-gray-200 rounded-b dark:border-gray-600"},te={key:0},ae={key:1},le=["data-modal-hide"],oe=["data-modal-hide"],se={__name:"GenericModal",props:{title:String,modalId:String,modalHeader:String,hasCustomFooter:{type:Boolean,default:!1},footerActionName:{type:String,default:"Close"},hasCancel:{type:Boolean,default:!1}},setup(a){return H(()=>{L()}),(d,i)=>(u(),c(k,null,[s("a",{"data-modal-target":a.modalId,"data-modal-toggle":a.modalId,class:"cursor-pointer text-xs font-medium text-purple-600 dark:text-purple-500 hover:underline"},o(a.title),9,K),s("div",{id:a.modalId,tabindex:"-1","aria-hidden":"true",class:"fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full"},[s("div",R,[s("div",U,[s("div",Z,[s("h3",J,o(a.modalHeader),1),s("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":a.modalId},[...i[0]||(i[0]=[s("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),s("span",{class:"sr-only"},"Close modal",-1)])],8,W)]),s("div",X,[y(d.$slots,"default")]),s("div",ee,[a.hasCustomFooter?(u(),c("div",te,[y(d.$slots,"customFooter")])):(u(),c("div",ae,[s("button",{"data-modal-hide":a.modalId,type:"button",class:"text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:outline-none focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-purple-700 dark:hover:bg-purple-700 dark:focus:ring-purple-800"},o(a.footerActionName),9,le),O(s("button",{"data-modal-hide":a.modalId,type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-purple-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Cancel ",8,oe),[[P,a.hasCancel]])]))])])])],8,Q)],64))}};function re(){function a(d){const i={year:"numeric",month:"long",day:"numeric"},f=1800+(parseInt(d.charAt(0))-1)*100+parseInt(d.substr(1,2)),p=parseInt(d.substr(3,2)),M=parseInt(d.substr(5,2)),E=d.substr(7,2),F={"01":"القاهرة","02":"الإسكندرية","03":"بورسعيد","04":"السويس",11:"دمياط",12:"الدقهلية",13:"الشرقية",14:"القليوبية",15:"كفر الشيخ",16:"الغربية",17:"المنوفية",18:"البحيرة",19:"الإسماعيلية",21:"الجيزة",22:"بني سويف",23:"الفيوم",24:"المنيا",25:"أسيوط",26:"سوهاج",27:"قنا",28:"أسوان",29:"الأقصر",31:"البحر الأحمر",32:"الوادي الجديد",33:"مطروح",34:"شمال سيناء",35:"جنوب سيناء",88:"خارج الجمهورية"}[E],z=parseInt(d.charAt(12))%2!==0,C=new Date(f,p-1,M);return{year:f,month:p,day:M,date:C.toLocaleDateString("en-uk",i),date_localized:C.toLocaleDateString(T().props.locale,i),state:F,isMale:z}}return{extractPersonalDetails:a}}const de={class:"overflow-hidden sm:rounded-lg"},ne={class:N("grid grid-cols-2")},ie={__name:"HistoryDescriptionList",props:{},setup(a){return(d,i)=>(u(),c("div",de,[s("dl",null,[s("div",ne,[y(d.$slots,"default")])])]))}};function ue(a){const d=new Date(a),i=new Date;let g=i.getFullYear()-d.getFullYear();return(i.getMonth()<d.getMonth()||i.getMonth()===d.getMonth()&&i.getDate()<d.getDate())&&g--,Math.abs(g)}const ce={name:"ModifyIcon"},fe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-5 mr-2 -ml-1"};function me(a,d,i,g,D,f){return u(),c("svg",fe,[...d[0]||(d[0]=[s("path",{d:"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32l8.4-8.4z"},null,-1),s("path",{d:"M5.25 5.25a3 3 0 00-3 3v10.5a3 3 0 003 3h10.5a3 3 0 003-3V13.5a.75.75 0 00-1.5 0v5.25a1.5 1.5 0 01-1.5 1.5H5.25a1.5 1.5 0 01-1.5-1.5V8.25a1.5 1.5 0 011.5-1.5h5.25a.75.75 0 000-1.5H5.25z"},null,-1)])])}const B=x(ce,[["render",me]]),_e={},he={class:"overflow-hidden sm:rounded-lg py-4"},ge={class:"grid grid-cols-2"};function ye(a,d){return u(),c("div",he,[s("dl",null,[s("div",ge,[y(a.$slots,"default")])])])}const I=x(_e,[["render",ye]]),pe={},xe={class:"text-sm font-medium text-gray-500"};function be(a,d){return u(),c("dt",xe,[y(a.$slots,"default")])}const m=x(pe,[["render",be]]),ve={},$e={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"};function we(a,d){return u(),c("dd",$e,[y(a.$slots,"default")])}const _=x(ve,[["render",we]]),h={__name:"DescriptionListItem",props:{colored:{type:Boolean,required:!1}},setup(a){return(d,i)=>(u(),c("div",{class:N(["px-4 py-3.5 col-span-1",{"bg-gray-50 dark:bg-gray-900":a.colored}])},[y(d.$slots,"default")],2))}},ke={class:"py-8"},De={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Me={class:"flex justify-between items-center mb-4"},Ce={class:"card-header"},Se={class:"flex inline-flex gap-4"},Be={class:"card-subheader"},Ie=["href"],He=["href"],Ne=["href"],Le={class:"mb-2 ml-1 font-semibold"},Ee={class:"mb-2 ml-1 font-semibold"},Fe={class:"px-4 py-3.5"},ze={class:"text-sm font-medium"},Ue={__name:"EmployeeView",props:{employee:Object},setup(a){let{extractPersonalDetails:d}=re();H(()=>{L()});const i=a;return(g,D)=>(u(),c(k,null,[t(l(V),{title:l(r)("Employee View")},null,8,["title"]),t(A,null,{tabs:e(()=>[t(Y)]),default:e(()=>[s("div",ke,[s("div",De,[t(v,{class:"!mt-0"},{default:e(()=>[s("div",Me,[s("h1",Ce,o(l(r)("Employee View")),1),s("div",Se,[g.$page.props.auth.user.role==="admin"?(u(),b(S,{key:0,text:l(r)("Modify Employee Data"),href:g.route("employees.edit",{id:a.employee.id})},{default:e(()=>[t(B)]),_:1},8,["text","href"])):(u(),b(S,{key:1,text:l(r)("Modify Data"),href:g.route("profile.edit",{id:a.employee.id})},{default:e(()=>[t(B)]),_:1},8,["text","href"]))])]),s("h2",Be,o(l(r)("Basic Info")),1),t(I,null,{default:e(()=>[t(h,{colored:""},{default:e(()=>[t(m,null,{default:e(()=>[n(o(l(r)("Name")),1)]),_:1}),t(_,null,{default:e(()=>[n(o(a.employee.name),1)]),_:1})]),_:1}),t(h,{colored:""},{default:e(()=>[t(m,null,{default:e(()=>[n(o(l(r)("ID")),1)]),_:1}),t(_,null,{default:e(()=>[n(o(a.employee.id),1)]),_:1})]),_:1}),t(h,null,{default:e(()=>[t(m,null,{default:e(()=>[n(o(l(r)("Phone")),1)]),_:1}),t(_,null,{default:e(()=>[s("a",{href:"tel:"+a.employee.phone},o(a.employee.phone),9,Ie)]),_:1})]),_:1}),t(h,null,{default:e(()=>[t(m,null,{default:e(()=>[n(o(l(r)("National ID")),1)]),_:1}),t(_,null,{default:e(()=>[n(o(a.employee.national_id),1)]),_:1})]),_:1}),t(h,{colored:""},{default:e(()=>[t(m,null,{default:e(()=>[n(o(l(r)("Email")),1)]),_:1}),t(_,null,{default:e(()=>[s("a",{href:"mailto:"+a.employee.email},o(a.employee.email),9,He)]),_:1})]),_:1}),t(h,{colored:""},{default:e(()=>[t(m,null,{default:e(()=>[n(o(l(r)("Gender")),1)]),_:1}),t(_,null,{default:e(()=>[n(o(l(d)(a.employee.national_id).isMale?l(r)("Male"):l(r)("Female")),1)]),_:1})]),_:1}),t(h,null,{default:e(()=>[t(m,null,{default:e(()=>[n(o(l(r)("Birthday")),1)]),_:1}),t(_,null,{default:e(()=>[n(o(l(d)(a.employee.national_id).date_localized+" - "+l(ue)(l(d)(a.employee.national_id).date)+" "+l(r)("Years")),1)]),_:1})]),_:1}),t(h,{colored:""},{default:e(()=>[t(m,null,{default:e(()=>[n(o(l(r)("Hire Date")),1)]),_:1}),t(_,null,{default:e(()=>[n(o(a.employee.hired_on),1)]),_:1})]),_:1}),t(h,null,{default:e(()=>[t(m,null,{default:e(()=>[n(o(l(r)("Address")),1)]),_:1}),t(_,null,{default:e(()=>[s("a",{href:"https://www.google.com/maps/search/?api=1&query="+i.employee.address,target:"”_blank”"},o(a.employee.address),9,Ne)]),_:1})]),_:1})]),_:1})]),_:1}),t(v,null,{default:e(()=>[s("h2",Le,o(l(r)("Technical Info")),1),t(I,null,{default:e(()=>[t(h,null,{default:e(()=>[t(m,null,{default:e(()=>[n(o(l(r)("Access Permissions")),1)]),_:1}),t(_,null,{default:e(()=>[n(o(a.employee.user_role?a.employee.user_role.replace(/_/g," ").replace(/\b\w/g,f=>f.toUpperCase()):l(r)("Not Assigned")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(v,null,{default:e(()=>[s("h2",Ee,o(l(r)("History")),1),t(ie,null,{default:e(()=>[s("div",Fe,[s("dt",ze,o(l(r)("Previous Shifts")),1),t(se,{modalId:"Shifts Modal",title:l(r)("Click Here To See Shifts History"),modalHeader:l(r)("Previous Shifts"),hasCancel:!1},{default:e(()=>[t(q,{totalNumber:1,enablePaginator:!1},{Head:e(()=>[t(w,null,{default:e(()=>[n(o(l(r)("Shift")),1)]),_:1}),t(w,null,{default:e(()=>[n(o(l(r)("Starting From")),1)]),_:1}),t(w,null,{default:e(()=>[n(o(l(r)("Ending At")),1)]),_:1})]),Body:e(()=>[(u(!0),c(k,null,j(a.employee.employee_shifts,f=>(u(),b(G,{key:f.id},{default:e(()=>[t($,null,{default:e(()=>{var p;return[n(o(((p=f.shift)==null?void 0:p.name)??l(r)("DELETED SHIFT")),1)]}),_:2},1024),t($,null,{default:e(()=>[n(o(f.start_date),1)]),_:2},1024),t($,null,{default:e(()=>[n(o(f.end_date??l(r)("Current")),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["title","modalHeader"])])]),_:1})]),_:1})])])]),_:1})],64))}};export{Ue as default};
