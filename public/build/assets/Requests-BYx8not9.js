import{a as y}from"./NavLink--aVmOoyc.js";import{f as l,o as n,b as e,a as i,u as t,_ as o,Z as k,w as h,e as p,t as s,F as x,K as m,l as g,c as $,g as f,n as b}from"./app-CXEzYGbh.js";import{_ as B}from"./FlexButton-BA34h1Sm.js";import{_ as T}from"./ReqTabs-Bbg4Nmf6.js";import{_ as w}from"./Card-Cp8Jn9zD.js";import{r as L}from"./useRequestStatusTypes-BHnTEFo5.js";import{r as j}from"./ChartBarIcon-Du1gyrS6.js";import{r as S}from"./CheckCircleIcon-CggldJYe.js";import{r as v}from"./CalendarDaysIcon--1FGLgVK.js";import{r as N}from"./ClockIcon-D_kgKtqS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function A(r,u){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})])}function C(r,u){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}const R={class:"py-8 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8 animate-fade-in-up"},M={class:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"},D={class:"lg:col-span-3 space-y-6"},E={class:"absolute -right-4 -top-4 opacity-5 group-hover:opacity-10 transition-opacity"},V={key:0},q={class:"text-lg font-bold text-white mb-6 flex items-center gap-2"},z={class:"space-y-5"},F={class:"flex items-center justify-between mb-2"},O={class:"text-sm font-medium text-gray-300"},P={class:"text-sm font-bold text-white bg-red-500/10 px-2 py-0.5 rounded border border-red-500/20"},H={class:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden"},I={key:1},K={class:"text-lg font-bold text-white mb-6 flex items-center gap-2"},Z={class:"space-y-6"},G={class:"flex items-center justify-between mb-2"},J={class:"flex flex-col"},Q={class:"text-sm font-bold text-white"},U={class:"text-[10px] uppercase tracking-wider text-gray-500"},W={class:"text-right"},X={class:"text-lg font-black text-red-500"},Y={class:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden"},ee={class:"p-6 rounded-2xl bg-gradient-to-br from-red-600/10 to-transparent border border-red-500/20 backdrop-blur-sm"},te={class:"text-white font-bold mb-2 flex items-center gap-2 uppercase tracking-tighter text-sm"},se={class:"text-xs text-gray-400 leading-relaxed"},ae={class:"lg:col-span-9"},oe={class:"p-8 border-b border-white/5 flex flex-col md:flex-row md:justify-between md:items-center gap-6 bg-white/[0.02]"},re={class:"text-3xl font-black text-white tracking-tight flex items-center gap-3"},ne={class:"text-sm font-medium text-gray-500 bg-white/5 px-2.5 py-1 rounded-lg border border-white/10 uppercase tracking-widest"},le={class:"text-gray-400 text-sm mt-1"},ie={class:"font-bold"},de={class:"overflow-x-auto"},ce={class:"w-full text-left border-collapse"},he={class:"bg-black/20"},pe={class:"px-6 py-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 border-b border-white/5"},xe={class:"px-6 py-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 border-b border-white/5"},ue={class:"px-6 py-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 border-b border-white/5 text-center"},_e={class:"px-6 py-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 border-b border-white/5 text-center"},me={key:0,class:"px-6 py-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 border-b border-white/5"},ge={key:1,class:"px-6 py-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 border-b border-white/5 text-right"},fe={class:"divide-y divide-white/5"},be={class:"px-6 py-5 font-mono text-sm font-bold text-red-500/80"},we={class:"px-6 py-5"},ve={class:"flex flex-col"},ye={class:"text-white font-bold group-hover:text-red-400 transition-colors"},ke={class:"text-xs text-gray-500"},$e={class:"px-6 py-5"},Be={class:"flex items-center justify-center gap-3 text-sm"},Te={class:"text-center"},Le={class:"text-white font-medium"},je={class:"text-[10px] text-gray-500 uppercase"},Se={class:"text-center"},Ne={class:"text-white font-medium"},Ae={class:"text-[10px] text-gray-500 uppercase"},Ce={class:"px-6 py-5 text-center"},Re={key:0,class:"px-6 py-5 max-w-[200px]"},Me={class:"text-sm text-gray-400 line-clamp-2"},De={key:1,class:"px-6 py-5 text-right"},Ee=["href"],Ve={key:0},qe={colspan:"5",class:"px-6 py-20 text-center"},ze={class:"flex flex-col items-center gap-4 opacity-20"},Fe={class:"text-xl font-bold text-white"},Ye={__name:"Requests",props:{requests:Object,leaveBalances:Array,leaveTotals:Object},setup(r){const u=d=>{switch(d){case"Pending":return"text-amber-400 bg-amber-400/10 border-amber-400/20";case"Approved":return"text-emerald-400 bg-emerald-400/10 border-emerald-400/20";case"Rejected":return"text-rose-400 bg-rose-400/10 border-rose-400/20";default:return"text-gray-400 bg-gray-400/10 border-gray-400/20"}};return(d,Oe)=>(n(),l(x,null,[i(t(k),{title:t(o)("Requests")},null,8,["title"]),i(y,null,{tabs:h(()=>[i(T)]),default:h(()=>[e("div",R,[e("div",M,[e("aside",D,[i(w,{variant:"glass",class:"!mt-0 relative overflow-hidden group"},{default:h(()=>[e("div",E,[i(t(j),{class:"w-32 h-32 text-white"})]),["admin","owner"].includes(d.$page.props.auth.user.role)?(n(),l("div",V,[e("h2",q,[i(t(S),{class:"w-5 h-5 text-emerald-500"}),p(" "+s(t(o)("Total Approved")),1)]),e("div",z,[(n(),l(x,null,m(["Annual Leave","Emergency Leave","Sick Leave"],a=>e("div",{key:a,class:"group/item"},[e("div",F,[e("span",O,s(t(o)(a)),1),e("span",P,s(r.leaveTotals&&r.leaveTotals[a]?r.leaveTotals[a]:0),1)]),e("div",H,[e("div",{class:"h-full bg-red-500/40 rounded-full group-hover/item:bg-red-500/60 transition-all",style:g({width:`${Math.min((r.leaveTotals&&r.leaveTotals[a]?r.leaveTotals[a]:0)*5,100)}%`})},null,4)])])),64))])])):(n(),l("div",I,[e("h2",K,[i(t(v),{class:"w-5 h-5 text-red-500"}),p(" "+s(t(o)("Leave Balances")),1)]),e("div",Z,[(n(),l(x,null,m(["Annual Leave","Emergency Leave","Sick Leave"],a=>{var _;return e("div",{key:a,class:"group/item"},[e("div",G,[e("div",J,[e("span",Q,s(t(o)(a)),1),e("span",U,s(t(o)("Remaining Days")),1)]),e("div",W,[e("span",X,s(r.leaveBalances&&r.leaveBalances.find(c=>c.leave_type===a)?r.leaveBalances.find(c=>c.leave_type===a).balance:0),1)])]),e("div",Y,[e("div",{class:"h-full bg-gradient-to-r from-red-600 to-red-400 rounded-full group-hover/item:opacity-80 transition-all shadow-[0_0_10px_rgba(239,68,68,0.3)]",style:g({width:`${Math.min((r.leaveBalances&&((_=r.leaveBalances.find(c=>c.leave_type===a))==null?void 0:_.balance)||0)*7,100)}%`})},null,4)])])}),64))])]))]),_:1}),e("div",ee,[e("h4",te,[i(t(N),{class:"w-4 h-4 text-red-500"}),p(" "+s(t(o)("Processing Time")),1)]),e("p",se,s(t(o)("Leave requests are typically reviewed within 24-48 hours by your supervisor.")),1)])]),e("main",ae,[i(w,{variant:"glass",class:"!mt-0 !p-0 overflow-hidden"},{default:h(()=>[e("div",oe,[e("div",null,[e("h1",re,[p(s(t(o)("Leave Requests"))+" ",1),e("span",ne,s(r.requests.data.length)+" "+s(t(o)("Total")),1)]),e("p",le,s(t(o)("Manage and track your time-off applications.")),1)]),["owner"].includes(d.$page.props.auth.user.role)?f("",!0):(n(),$(B,{key:0,href:d.route("requests.create"),class:b("!bg-red-600 hover:!bg-red-700 !rounded-xl !px-6 !py-3 !text-white flex items-center gap-2 transition-all shadow-xl hover:shadow-red-500/20 group")},{default:h(()=>[i(t(C),{class:"w-5 h-5 group-hover:rotate-90 transition-transform duration-300"}),e("span",ie,s(t(o)("New Request")),1)]),_:1},8,["href"]))]),e("div",de,[e("table",ce,[e("thead",null,[e("tr",he,[e("th",pe,s(t(o)("ID")),1),e("th",xe,s(t(o)("Employee / Type")),1),e("th",ue,s(t(o)("Duration")),1),e("th",_e,s(t(o)("Status")),1),["admin","owner"].includes(d.$page.props.auth.user.role)?(n(),l("th",ge,s(t(o)("Action")),1)):(n(),l("th",me,s(t(o)("Reason")),1))])]),e("tbody",fe,[(n(!0),l(x,null,m(r.requests.data,(a,_)=>(n(),l("tr",{key:a.id,class:"group hover:bg-white/[0.02] transition-colors"},[e("td",be," #"+s(a.id.toString().padStart(4,"0")),1),e("td",we,[e("div",ve,[e("span",ye,s(a.employee_name),1),e("span",ke,s(a.type),1)])]),e("td",$e,[e("div",Be,[e("div",Te,[e("p",Le,s(a.start_date),1),e("p",je,s(t(o)("Start")),1)]),i(t(A),{class:"w-3 h-3 text-red-500/40"}),e("div",Se,[e("p",Ne,s(a.end_date??t(o)("N/A")),1),e("p",Ae,s(t(o)("End")),1)])])]),e("td",Ce,[e("span",{class:b([u(a.status),"inline-flex items-center px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border shadow-sm"])},s(t(L)[a.status.toLowerCase()]||a.status),3)]),["admin","owner"].includes(d.$page.props.auth.user.role)?(n(),l("td",De,[e("a",{href:d.route("requests.show",{request:a.id}),class:"inline-flex items-center gap-1.5 text-xs font-bold text-gray-400 hover:text-white bg-white/5 hover:bg-red-600 px-4 py-2 rounded-lg border border-white/10 transition-all shadow-sm"},s(t(o)("View Details")),9,Ee)])):(n(),l("td",Re,[e("span",Me,s(a.remark||t(o)("No reason provided")),1)]))]))),128)),r.requests.data.length===0?(n(),l("tr",Ve,[e("td",qe,[e("div",ze,[i(t(v),{class:"w-16 h-16 text-white"}),e("p",Fe,s(t(o)("No requests found")),1)])])])):f("",!0)])])])]),_:1})])])])]),_:1})],64))}};export{Ye as default};
