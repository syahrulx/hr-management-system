import{_ as b}from"./AuthenticatedLayout-CH5_r5_h.js";import{_ as n,a as l,o,f as h,u as a,Z as p,g as _,b as e,t as s,F as u,l as y,i as m,n as f,h as v,d as w}from"./app-5PSfkqSm.js";import{_ as k}from"./FlexButton-BuhU2GGl.js";import{_ as B}from"./ReqTabs-DILIDdq5.js";import{P as L}from"./PlusIcon-BGJYLVVJ.js";import"./useRequestTypes-QHyyJ9PF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-Creu9mi5.js";import"./GoBackNavLink-B9RrW8Re.js";const g={pending:n("Pending"),approved:n("Approved"),rejected:n("Rejected")},C={class:"py-10 min-h-screen"},A={class:"max-w-6xl mx-auto px-4 flex flex-col md:flex-row gap-10"},T={class:"w-full md:w-72 bg-gray-800/80 backdrop-blur border border-gray-700 rounded-2xl p-6 shadow-xl mb-8 md:mb-0 flex-shrink-0"},j={key:0},E={class:"text-base font-bold text-gray-200 mb-5 tracking-wide border-b border-gray-700 pb-2"},N={class:"space-y-4 mt-4"},R={class:"font-semibold flex items-center gap-2 text-gray-300"},S={key:0,class:"h-4 w-4 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},$={key:1,class:"h-4 w-4 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},D={key:2,class:"h-4 w-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},P={key:1},V={class:"text-base font-bold text-gray-200 mb-5 tracking-wide border-b border-gray-700 pb-2"},I={class:"space-y-4 mt-4"},F={class:"font-semibold flex items-center gap-2 text-gray-300"},O={key:0,class:"h-4 w-4 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},z={key:1,class:"h-4 w-4 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},M={key:2,class:"h-4 w-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},Z={class:"flex-1"},q={class:"bg-gray-800/90 rounded-2xl shadow-xl border border-gray-700 p-8"},G={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6"},H={class:"text-2xl font-extrabold text-gray-100 tracking-tight"},J={class:"overflow-x-auto rounded-xl border border-gray-700"},K={class:"min-w-full text-sm text-gray-200"},Q={class:"bg-gray-900/80"},U={class:"w-12 text-center px-3 py-3 font-bold"},W={class:"px-3 py-3 font-bold text-left"},X={class:"px-3 py-3 font-bold text-left"},Y={class:"px-3 py-3 font-bold text-center"},ee={class:"px-3 py-3 font-bold text-center"},te={class:"px-3 py-3 font-bold text-center"},se={class:"w-12 text-center px-3 py-3 font-mono font-bold"},oe=["href"],le=["title"],ae=["href"],ne={class:"px-3 py-3"},re=["href"],de={class:"px-3 py-3 text-center"},ie=["href"],ce={class:"px-3 py-3 text-center"},xe=["href"],he={class:"px-3 py-3 text-center"},ue={key:0,class:"px-3 py-1 rounded-full bg-yellow-900 text-yellow-200 text-xs font-bold shadow-sm"},fe={key:1,class:"px-3 py-1 rounded-full bg-green-900 text-green-200 text-xs font-bold shadow-sm"},_e={key:2,class:"px-3 py-1 rounded-full bg-red-900 text-red-200 text-xs font-bold shadow-sm"},Le={__name:"Requests",props:{requests:Object,leaveBalances:Array,leaveTotals:Object},setup(d){return(i,r)=>(o(),l(u,null,[h(a(p),{title:a(n)("Requests")},null,8,["title"]),h(b,null,{tabs:_(()=>[h(B)]),default:_(()=>[e("div",C,[e("div",A,[e("aside",T,[["admin","owner"].includes(i.$page.props.auth.user.role)?(o(),l("div",j,[e("h2",E,s(a(n)("Total Approved Leaves")),1),e("ul",N,[(o(),l(u,null,y(["Annual Leave","Emergency Leave","Sick Leave"],t=>e("li",{key:t,class:"flex items-center justify-between"},[e("span",R,[t==="Annual Leave"?(o(),l("svg",S,r[0]||(r[0]=[e("circle",{cx:"10",cy:"10",r:"10"},null,-1)]))):t==="Emergency Leave"?(o(),l("svg",$,r[1]||(r[1]=[e("rect",{width:"20",height:"20",rx:"4"},null,-1)]))):(o(),l("svg",D,r[2]||(r[2]=[e("ellipse",{cx:"10",cy:"10",rx:"10",ry:"7"},null,-1)]))),m(" "+s(t),1)]),e("span",{class:f([d.leaveTotals&&d.leaveTotals[t]?"bg-green-900 text-green-200":"bg-gray-700 text-gray-400","px-3 py-0.5 rounded-full text-xs font-bold min-w-[2rem] text-center shadow-sm"])},s(d.leaveTotals&&d.leaveTotals[t]?d.leaveTotals[t]:0),3)])),64))])])):(o(),l("div",P,[e("h2",V,s(a(n)("My Leave Balances")),1),e("ul",I,[(o(),l(u,null,y(["Annual Leave","Emergency Leave","Sick Leave"],t=>{var x;return e("li",{key:t,class:"flex items-center justify-between"},[e("span",F,[t==="Annual Leave"?(o(),l("svg",O,r[3]||(r[3]=[e("circle",{cx:"10",cy:"10",r:"10"},null,-1)]))):t==="Emergency Leave"?(o(),l("svg",z,r[4]||(r[4]=[e("rect",{width:"20",height:"20",rx:"4"},null,-1)]))):(o(),l("svg",M,r[5]||(r[5]=[e("ellipse",{cx:"10",cy:"10",rx:"10",ry:"7"},null,-1)]))),m(" "+s(t),1)]),e("span",{class:f([d.leaveBalances&&((x=d.leaveBalances.find(c=>c.leave_type===t))!=null&&x.balance)?"bg-green-900 text-green-200":"bg-gray-700 text-gray-400","px-3 py-0.5 rounded-full text-xs font-bold min-w-[2rem] text-center shadow-sm"])},s(d.leaveBalances&&d.leaveBalances.find(c=>c.leave_type===t)?d.leaveBalances.find(c=>c.leave_type===t).balance:0),3)])}),64))])]))]),e("main",Z,[e("div",q,[e("div",G,[e("h1",H,s(a(n)("Current Requests")),1),["admin","owner"].includes(i.$page.props.auth.user.role)?w("",!0):(o(),v(k,{key:0,href:i.route("requests.create"),text:a(n)("Initiate A Request"),class:f("text-white px-6 py-2 rounded-full font-semibold text-base shadow transition")},{default:_(()=>[h(L)]),_:1},8,["href","text"]))]),e("div",J,[e("table",K,[e("thead",null,[e("tr",Q,[e("th",U,s(a(n)("ID")),1),e("th",W,s(a(n)("Created By")),1),e("th",X,s(a(n)("Type")),1),e("th",Y,s(a(n)("Start Date")),1),e("th",ee,s(a(n)("End Date")),1),e("th",te,s(a(n)("Status")),1)])]),e("tbody",null,[(o(!0),l(u,null,y(d.requests.data,(t,x)=>(o(),l("tr",{key:t.id,class:f([x%2===0?"bg-gray-800/80":"bg-gray-900/60","hover:bg-gray-900 transition border-b border-gray-700"])},[e("td",se,[e("a",{href:i.route("requests.show",{id:t.id}),class:"hover:underline"},s(t.id),9,oe)]),e("td",{class:"px-3 py-3 max-w-[180px] truncate",title:t.employee_name},[e("a",{href:i.route("requests.show",{id:t.id}),class:"hover:underline"},s(t.employee_name),9,ae)],8,le),e("td",ne,[e("a",{href:i.route("requests.show",{id:t.id}),class:"hover:underline"},s(t.type),9,re)]),e("td",de,[e("a",{href:i.route("requests.show",{id:t.id}),class:"hover:underline"},s(t.start_date),9,ie)]),e("td",ce,[e("a",{href:i.route("requests.show",{id:t.id}),class:"hover:underline"},s(t.end_date??a(n)("N/A")),9,xe)]),e("td",he,[t.status==="Pending"?(o(),l("span",ue,s(a(g).pending),1)):t.status==="Approved"?(o(),l("span",fe,s(a(g).approved),1)):(o(),l("span",_e,s(a(g).rejected),1))])],2))),128))])])])])])])])]),_:1})],64))}};export{Le as default};
