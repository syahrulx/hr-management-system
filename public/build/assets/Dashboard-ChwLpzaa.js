import{f as d,o as n,b as e,r as M,l as H,Q as m,T as L,h as V,_ as t,m as E,p as F,q as $,s as O,a as i,u as r,Z as q,w as h,c as v,g as C,n as S,t as o,e as T,d as P,F as B,x as z,y as R}from"./app-Dy-6RBJ3.js";import{C as D,T as W,_ as Z,a as U}from"./NavLink-BXQnaibR.js";import{_ as b,a as J}from"./Card-CTpZneKR.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index--HqqyPlz.js";import{S as p}from"./sweetalert2-z6gKu1nJ.js";import{r as Q}from"./ChartBarIcon-DeQapfFq.js";import{r as Y}from"./BriefcaseIcon-Bv1Agebs.js";function G(s,c){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})])}function X(s,c){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"})])}function ee(s){var k;const c=M(localStorage.getItem("lastApiCallTimestamp")||null),y="https://api.quotable.io/quotes/random?tags=Work|Motivational|Inspirational|Creativity";async function I(){try{const u=await fetch(y);if(!u.ok)throw new Error("API call error.");const x=await u.json();s.value=x[0],c.value=Date.now(),localStorage.setItem("lastApiCallTimestamp",c.value),localStorage.setItem("quote",JSON.stringify(x))}catch(u){throw new Error("Network response was NOT ok:",u)}}function g(){return c.value?Date.now()-c.value>=936e5:!0}g()?I():s.value=(k=JSON.parse(localStorage.getItem("quote")))==null?void 0:k[0]}const te={class:"py-8 max-w-7xl mx-auto sm:px-6 lg:px-8 animate-fade-in-up"},se={class:"grid grid-cols-1 lg:grid-cols-4 gap-6 auto-rows-min"},oe={class:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center h-full"},re={class:"text-sm font-medium text-red-400 uppercase tracking-wider mb-1"},ae={class:"text-4xl font-bold text-white mb-2"},ne={class:"text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-red-200"},le={key:0,class:"text-gray-400 max-w-xl text-sm leading-relaxed"},ie={class:"text-red-400"},de={key:1,class:"text-gray-400 max-w-xl text-sm leading-relaxed"},ce={class:"hidden md:block opacity-50 group-hover:opacity-100 transition-opacity duration-700"},ue={class:"p-6 flex-1 flex flex-col justify-center items-center text-center relative z-10"},fe={class:"text-xl font-bold text-white mb-2"},he={class:"mb-3"},me={class:"text-3xl font-mono font-bold tracking-wider px-4 py-2 rounded-lg text-white bg-white/5 border border-white/10"},ge={class:"mb-6 space-y-2 text-sm font-medium w-full px-4"},be={key:0,class:"flex items-center justify-center gap-2 text-emerald-400 bg-emerald-400/10 py-1.5 px-3 rounded-lg border border-emerald-400/20 shadow-sm backdrop-blur-sm"},pe={key:1,class:"flex items-center justify-center gap-2 text-amber-400 bg-amber-400/10 py-1.5 px-3 rounded-lg border border-amber-400/20 shadow-sm backdrop-blur-sm"},xe={class:"relative z-10 group-hover:tracking-widest transition-all duration-300"},we={key:1,class:"w-full py-4 rounded-xl font-bold text-white bg-white/5 border border-white/10 text-center cursor-not-allowed opacity-70"},_e={class:"flex items-center justify-between"},ve={class:"text-gray-400 text-xs uppercase font-bold tracking-wider"},ye={class:"text-3xl font-bold text-white mt-1"},ke={class:"p-3 bg-red-500/10 rounded-lg"},Ce={class:"flex items-center justify-between"},Se={class:"text-gray-400 text-xs uppercase font-bold tracking-wider"},Te={class:"text-3xl font-bold text-emerald-400 mt-1"},Ie={class:"p-3 bg-emerald-500/20 rounded-lg"},je={class:"flex items-center justify-between"},Be={class:"text-gray-400 text-xs uppercase font-bold tracking-wider"},De={class:"text-3xl font-bold text-amber-400 mt-1"},Me={class:"p-3 bg-amber-500/20 rounded-lg"},Ae={class:"flex items-center justify-between"},Ne={class:"text-gray-400 text-xs uppercase font-bold tracking-wider"},Oe={class:"text-3xl font-bold text-purple-400 mt-1"},ze={class:"p-3 bg-purple-500/20 rounded-lg"},He={class:"flex justify-between items-center mb-6"},Le={class:"text-lg font-bold text-gray-100 tracking-tight"},Ve={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ee={class:"relative group bg-white/5 border border-white/10 rounded-xl p-6 overflow-hidden transition-all duration-300 hover:bg-white/10 hover:border-white/20"},Fe={class:"relative z-10 flex items-center justify-between"},$e={class:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"},qe={class:"flex items-end gap-2"},Pe={class:"text-3xl font-bold text-white"},Re={class:"text-sm text-gray-500 mb-1"},We={class:"p-3 bg-white/5 rounded-lg border border-white/5 group-hover:scale-110 transition-transform duration-300"},Ze={class:"w-full bg-gray-700/50 rounded-full h-1.5 mt-4 overflow-hidden"},Ue={class:"relative z-10 flex items-center justify-between"},Je={class:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"},Ke={class:"flex items-end gap-2"},Qe={class:"text-sm text-gray-500 mb-1"},Ye={class:"p-3 bg-white/5 rounded-lg border border-white/5 group-hover:scale-110 transition-transform duration-300"},Ge={class:"w-full bg-gray-700/50 rounded-full h-1.5 mt-4 overflow-hidden"},Xe={__name:"Dashboard",props:{employee_stats:Object,attendance_status:Number,is_today_off:Boolean,is_owner:Boolean,owner_stats:Object,sign_in_time:String,leaveBalances:Array,sign_off_time:String,has_schedule_today:Boolean},setup(s){const c=s;H();const y=new Date().toLocaleDateString(m().props.locale,{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"}),I=L({});V(()=>c.attendance_status===0?t("Clock in"):t("Clock out"));let g=c.attendance_status===0;E(()=>c.attendance_status,()=>{g=c.attendance_status===0});const k=()=>{const f=g?"attendance.dashboardSignIn":"attendance.dashboardSignOff";p.mixin({customClass:{cancelButton:"mx-4 text-white bg-red-700 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",confirmButton:"text-white bg-red-700 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"},buttonsStyling:!1}).fire({title:t("Confirm :signType for attendance for :today?",{signType:g?t("Sign in"):t("Sign off"),today:y}),html:g.value?"<b>"+t("Notes")+"</b><br>"+t("1. Attendance for non-remote employees can only be taken from inside the organization.")+"<br>"+t("2. You need to register sign-off here again before leaving, otherwise, your attendance will not be accounted."):"",icon:"info",showCancelButton:!0,confirmButtonText:t("Confirm"),cancelButtonText:t("Cancel"),reverseButtons:!0}).then(w=>{w.isConfirmed&&I.post(route(f),{preserveScroll:!0,onError:()=>{m().props.errors.ip_error?p.fire(t("Attendance Error"),m().props.errors.ip_error,"error"):m().props.errors.no_ip?p.fire(t("IP Error"),m().props.errors.no_ip,"error"):m().props.errors.authorization_error?p.fire(t("Authorization Error"),m().props.errors.authorization_error,"error"):m().props.errors.day_off?p.fire(t("Today is OFF!"),m().props.errors.day_off,"error"):p.fire(t("Error"),t("Something went wrong.")+"</br>"+t("Please contact your administrator of this error"),"error")},onSuccess:()=>{p.fire(t("Action Registerd"),g?t("Don't forget to come here and sign-off before you leave so that the attendance gets registered!"):"","success")}})})},u=M(null),x=f=>{if(!f)return"";const[l,w]=f.split(":"),_=new Date;return _.setHours(l),_.setMinutes(w),_.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},A=M("");let j=null;const N=()=>{const f=new Date;A.value=f.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})};return F(()=>{ee(u),N(),j=setInterval(N,1e3)}),$(()=>{j&&clearInterval(j)}),(f,l)=>{const w=O("RocketIcon"),_=O("UserIcon");return n(),d(B,null,[i(r(q),{title:r(t)("Dashboard")},null,8,["title"]),i(U,null,{tabs:h(()=>[i(J),i(Z,{href:f.route("dashboard.index"),active:f.route().current("dashboard.index")},{default:h(()=>[T(o(r(t)("Dashboard")),1)]),_:1},8,["href","active"])]),default:h(()=>[e("div",te,[e("div",se,[i(b,{variant:"glass",class:S(["!mt-0 relative overflow-hidden group",s.is_owner?"lg:col-span-4 min-h-[250px] flex flex-col justify-center":"lg:col-span-3"])},{default:h(()=>[l[1]||(l[1]=e("div",{class:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-red-600/20 to-transparent rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"},null,-1)),e("div",oe,[e("div",null,[e("h2",re,o(r(y)),1),e("h1",ae,[T(o(r(t)("Welcome back,"))+" ",1),e("span",ne,o(f.$page.props.auth.user.name),1),l[0]||(l[0]=T("! ",-1))]),u.value?(n(),d("p",le,[T(' "'+o(u.value.content)+'" â€” ',1),e("span",ie,o(u.value.author),1)])):(n(),d("p",de,' "'+o(r(t)("Success is not the key to happiness. Happiness is the key to success."))+'" ',1))]),e("div",ce,[i(w,{class:"w-24 h-24 text-red-500/20"})])])]),_:1},8,["class"]),s.is_owner?C("",!0):(n(),v(b,{key:0,variant:"glass",class:"lg:col-span-1 lg:row-span-2 !mt-0 flex flex-col justify-between relative overflow-hidden h-full min-h-[300px]",noPadding:!0},{default:h(()=>[l[4]||(l[4]=e("div",{class:"absolute inset-0 bg-gradient-to-b from-red-900/10 to-transparent pointer-events-none"},null,-1)),e("div",ue,[e("div",{class:S(["w-24 h-24 rounded-full flex items-center justify-center mb-6 shadow-[0_0_30px_rgba(220,38,38,0.3)] transition-all duration-500",s.attendance_status===0?"bg-red-500/20 text-red-400 border border-red-500/50":s.attendance_status===1?"bg-green-500/20 text-green-400 border border-green-500/50":"bg-amber-500/20 text-amber-400 border border-amber-500/50"])},[i(D,{class:"w-10 h-10"})],2),e("h3",fe,o(!s.has_schedule_today&&s.attendance_status===0?r(t)("Day Off"):s.attendance_status===0?r(t)("Not Signed In"):s.attendance_status===1?r(t)("Currently Working"):r(t)("Completed")),1),e("div",he,[e("div",me,o(A.value),1)]),e("div",ge,[s.sign_in_time?(n(),d("div",be,[l[2]||(l[2]=e("span",{class:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"},null,-1)),e("span",null,o(r(t)("In"))+": "+o(x(s.sign_in_time)),1)])):C("",!0),s.sign_off_time?(n(),d("div",pe,[l[3]||(l[3]=e("span",{class:"w-1.5 h-1.5 rounded-full bg-amber-400"},null,-1)),e("span",null,o(r(t)("Out"))+": "+o(x(s.sign_off_time)),1)])):C("",!0)]),s.has_schedule_today||s.attendance_status!==0?(n(),d("form",{key:0,onSubmit:P(k,["prevent"]),class:"w-full"},[s.attendance_status!==2?(n(),d("button",{key:0,class:S(["w-full py-4 rounded-xl font-bold text-white shadow-lg transition-all duration-300 transform hover:scale-105 active:scale-95 group relative overflow-hidden",s.attendance_status===0?"bg-gradient-to-br from-red-600 to-red-800 shadow-red-900/40":"bg-gradient-to-br from-gray-700 to-gray-900 shadow-black/40 border border-white/10"])},[e("span",xe,o(s.attendance_status===0?r(t)("CLOCK IN"):r(t)("CLOCK OUT")),1)],2)):C("",!0)],32)):(n(),d("div",we,[e("span",null,o(r(t)("No Shift Today ðŸ›Œ")),1)]))])]),_:1})),s.is_owner?(n(),d(B,{key:1},[i(b,{variant:"glass",class:"lg:col-span-1 !mt-0 h-full flex flex-col justify-center"},{default:h(()=>{var a;return[e("div",_e,[e("div",null,[e("p",ve,o(r(t)("Total Staff")),1),e("p",ye,o(((a=s.owner_stats)==null?void 0:a.staffCount)??0),1)]),e("div",ke,[i(_,{class:"w-6 h-6 text-red-400"})])])]}),_:1}),i(b,{variant:"glass",class:"lg:col-span-1 !mt-0 h-full flex flex-col justify-center"},{default:h(()=>{var a;return[e("div",Ce,[e("div",null,[e("p",Se,o(r(t)("Present")),1),e("p",Te,o(((a=s.owner_stats)==null?void 0:a.presentToday)??0),1)]),e("div",Ie,[i(W,{class:"w-6 h-6 text-emerald-400"})])])]}),_:1}),i(b,{variant:"glass",class:"lg:col-span-1 !mt-0 h-full flex flex-col justify-center"},{default:h(()=>{var a;return[e("div",je,[e("div",null,[e("p",Be,o(r(t)("Late")),1),e("p",De,o(((a=s.owner_stats)==null?void 0:a.lateToday)??0),1)]),e("div",Me,[i(D,{class:"w-6 h-6 text-amber-400"})])])]}),_:1}),i(b,{variant:"glass",class:"lg:col-span-1 !mt-0 h-full flex flex-col justify-center"},{default:h(()=>{var a;return[e("div",Ae,[e("div",null,[e("p",Ne,o(r(t)("Leave Requests")),1),e("p",Oe,o(((a=s.owner_stats)==null?void 0:a.pendingRequests)??0),1)]),e("div",ze,[i(r(G),{class:"w-6 h-6 text-purple-400"})])])]}),_:1})],64)):(n(),v(b,{key:2,variant:"glass",class:"lg:col-span-3 !mt-0 relative overflow-hidden"},{default:h(()=>[e("div",He,[e("h3",Le,o(r(t)("My Status")),1)]),e("div",Ve,[e("div",Ee,[l[5]||(l[5]=e("div",{class:"absolute -right-6 -top-6 w-24 h-24 bg-gradient-to-br from-red-500/10 to-transparent rounded-full blur-2xl group-hover:bg-red-500/20 transition-all duration-500"},null,-1)),e("div",Fe,[e("div",null,[e("p",$e,o(r(t)("Work Days")),1),e("div",qe,[e("span",Pe,o(s.employee_stats.attendableThisMonth),1),e("span",Re,"/ "+o(r(t)("Month")),1)])]),e("div",We,[i(r(Q),{class:"w-6 h-6 text-red-500"})])]),e("div",Ze,[e("div",{class:"h-1.5 rounded-full bg-red-500 transition-all duration-1000 ease-out",style:z({width:Math.min(s.employee_stats.attendableThisMonth/30*100,100)+"%"})},null,4)])]),(n(!0),d(B,null,R(s.leaveBalances,a=>(n(),d("div",{key:a.leave_type,class:"relative group bg-white/5 border border-white/10 rounded-xl p-6 overflow-hidden transition-all duration-300 hover:bg-white/10 hover:border-white/20"},[l[6]||(l[6]=e("div",{class:"absolute -right-6 -top-6 w-24 h-24 bg-gradient-to-br from-red-500/10 to-transparent rounded-full blur-2xl group-hover:bg-red-500/20 transition-all duration-500"},null,-1)),e("div",Ue,[e("div",null,[e("p",Je,o(r(t)(a.leave_type)),1),e("div",Ke,[e("span",{class:S(["text-3xl font-bold",a.balance>0?"text-white":"text-red-400"])},o(a.balance),3),e("span",Qe,o(r(t)("Days")),1)])]),e("div",Ye,[a.leave_type==="Annual Leave"?(n(),v(r(Y),{key:0,class:"w-6 h-6 text-red-500"})):a.leave_type==="Sick Leave"?(n(),v(r(X),{key:1,class:"w-6 h-6 text-red-500"})):(n(),v(D,{key:2,class:"w-6 h-6 text-red-500"}))])]),e("div",Ge,[e("div",{class:"h-1.5 rounded-full bg-red-500 transition-all duration-1000 ease-out",style:z({width:Math.min(a.balance/14*100,100)+"%"})},null,4)])]))),128))])]),_:1}))])])]),_:1})],64)}}},it=K(Xe,[["__scopeId","data-v-de0584fa"]]);export{it as default};
