import{_ as v}from"./AuthenticatedLayout-CH5_r5_h.js";import{_ as c,e as w,a as s,o as t,d as h,t as r,u as n,b as l,F as g,l as k,h as p,g as u,i as f,s as b,f as d,r as P,w as A,Z as $,k as S,N as x}from"./app-5PSfkqSm.js";import{_ as T}from"./Paginator---QLJ09X.js";import{a as D}from"./index-wSJ8pTGU.js";import{_ as N}from"./FlexButton-BuhU2GGl.js";import{_ as B}from"./AttendanceTabs-DpEOXr_V.js";import{o as L}from"./main-AEwAPKvm.js";import{_ as j,a as V}from"./InputLabel-CHaklMAF.js";import{_ as I}from"./Card-PFDkDLZg.js";import{P as O}from"./PlusIcon-BGJYLVVJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-Creu9mi5.js";import"./GoBackNavLink-B9RrW8Re.js";const C={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},E={key:0,class:"text-center pb-8"},F={key:1,class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},H={class:"text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-900 dark:text-gray-400"},M={key:0,scope:"col",class:"px-6 py-3"},q={key:0},R={key:1},U={key:0,class:"px-6 py-4"},Z={key:2,class:"flex items-center justify-between pt-4 px-6 pb-2","aria-label":"Table navigation"},z={key:0,class:"text-sm font-normal text-gray-500 dark:text-gray-400"},G={class:"font-semibold text-gray-900 dark:text-white"},J={class:"font-semibold text-gray-900 dark:text-white"},K={__name:"DataTable",props:{data:Object,head:Array,controller:{type:String,default:"employees"},hasLink:Boolean,hasActions:Boolean,hasPaginator:{type:Boolean,default:!0},hasCustomParams:{type:Boolean,default:!1},customParamsHeader:{type:String,default:"id"},customParamsIndex:{type:Number,default:0},undefinedText:{type:String,default:c("N/A")},boolMessage:Array},setup(e){return w(()=>{D()}),(m,i)=>(t(),s("div",C,[e.data.data.length===0?(t(),s("div",E,r(n(c)("No data was found in the records.")),1)):(t(),s("table",F,[l("thead",H,[l("tr",null,[(t(!0),s(g,null,k(e.head,o=>(t(),s("th",{scope:"col",class:"px-6 py-3",key:o.id},r(o),1))),128)),e.hasActions?(t(),s("th",M,r(n(c)("Actions")),1)):h("",!0)])]),l("tbody",null,[(t(!0),s(g,null,k(e.data.data,o=>(t(),s("tr",{class:"border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",key:o.id},[(t(!0),s(g,null,k(o,(a,y)=>(t(),s("td",{class:"px-6 py-4",key:y},[e.hasLink?(t(),s("div",q,[e.hasCustomParams?(t(),p(n(b),{key:0,href:m.route(e.controller+".show",{[e.customParamsHeader]:o[Object.keys(o)[e.customParamsIndex]]})},{default:u(()=>[f(r(a??e.undefinedText),1)]),_:2},1032,["href"])):(t(),p(n(b),{key:1,href:m.route(e.controller+".show",{id:o.id})},{default:u(()=>[f(r(a??e.undefinedText),1)]),_:2},1032,["href"]))])):(t(),s("p",R,r(a??e.undefinedText),1))]))),128)),e.hasActions?(t(),s("td",U,[d(n(b),{href:m.route(e.controller+".edit",{id:o.id}),class:"font-medium text-purple-600 dark:text-purple-500 hover:underline"},{default:u(()=>[f(r(n(c)("Edit")),1)]),_:2},1032,["href"])])):h("",!0)]))),128))])])),e.hasPaginator&&e.data.data.length!==0?(t(),s("nav",Z,[e.data.data.length!==e.data.total?(t(),s("span",z,[f(r(n(c)("Showing"))+" ",1),l("span",G,r(e.data.data.length),1),f(" "+r(n(c)("of"))+" ",1),l("span",J,r(e.data.total),1),f(" "+r(n(c)("Records"))+".",1)])):h("",!0),d(T,{links:e.data.links},null,8,["links"])])):h("",!0)]))}},Q={class:"py-8"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={class:"card-header !mb-4"},Y={class:"flex justify-between items-center pb-4 gap-4"},fe={__name:"Attendances",props:{attendanceList:Object,dateParam:String},setup(e){const m=e,i=P(new Date(m.dateParam));return m.dateParam===""&&(i.value=""),A(i,()=>{i.value===null?x.visit(route("attendances.index",{term:null}),{preserveState:!0,preserveScroll:!0}):x.visit(route("attendances.index",{term:i.value.toISOString().split("T")[0]}),{preserveState:!0,preserveScroll:!0})}),(a,y)=>(t(),s(g,null,[d(n($),{title:a.__("Attendance")},null,8,["title"]),d(v,null,{tabs:u(()=>[d(B)]),default:u(()=>[l("div",Q,[l("div",W,[d(I,{class:"!mt-0"},{default:u(()=>[l("h1",X,r(a.__("Attendance List")),1),l("div",Y,[d(N,{href:a.route("attendances.create"),text:a.__("Take/Edit Attendance")},{default:u(()=>[d(O)]),_:1},8,["href","text"]),l("div",null,[d(j,{for:"date",value:a.__("Filter by Date:")},null,8,["value"]),d(n(L),{id:"date",modelValue:i.value,"onUpdate:modelValue":y[0]||(y[0]=_=>i.value=_),class:"py-1 block w-full",placeholder:a.__("Select a Date.."),"enable-time-picker":!1,"max-date":new Date,dark:S("isDark").value,required:""},null,8,["modelValue","placeholder","max-date","dark"]),Object.keys(a.$page.props.errors).length?(t(),p(V,{key:0,class:"mt-2",message:a.$page.props.errors},null,8,["message"])):h("",!0)])]),d(K,{controller:"attendance",head:[a.__("Date"),a.__("Total Attendance"),a.__("Attended On Time"),a.__("Attended Late"),a.__("Absented")],data:e.attendanceList,hasActions:!1,hasLink:!0,hasCustomParams:!0,customParamsHeader:"date",customParamsIndex:a.end_date},null,8,["head","data","customParamsIndex"])]),_:1})])])]),_:1})],64))}};export{fe as default};
