import{T as b,a as k,o as w,f as o,u as e,_ as s,Z as B,g as u,b as t,t as c,j as g,n,k as S,m as D,v as j,i as v,F as C,z as U,p as f}from"./app-5PSfkqSm.js";import{_ as q}from"./AuthenticatedLayout-CH5_r5_h.js";import{_ as N}from"./EmployeeTabs-C_oGMPdT.js";import{P as y}from"./PrimaryButton-8qspkuii.js";import{_ as i,a as d}from"./InputLabel-CHaklMAF.js";import{_ as p}from"./TextInput-DVXg4D7Q.js";import"./index-wSJ8pTGU.js";import{o as Y}from"./main-AEwAPKvm.js";import{S as h}from"./sweetalert2-z6gKu1nJ.js";import{_ as $}from"./Card-PFDkDLZg.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-Creu9mi5.js";import"./GoBackNavLink-B9RrW8Re.js";const P={class:"py-8"},T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},M={class:"card-header"},A={class:"grid grid-cols-2 gap-8"},F={class:"grid grid-cols-2 gap-8 mt-4"},O={class:"mt-4"},z={class:"mt-4"},L={class:"grid grid-cols-2 gap-8 mt-4"},R={selected:"",value:""},W={class:"flex items-center justify-end mt-4"},te={__name:"EmployeeEdit",props:{employee:Object,href:String,shifts:Object,roles:Object},setup(_){const m=_,l=b({name:m.employee.name,ic_number:m.employee.national_id,email:m.employee.email,phone:m.employee.phone,address:m.employee.address,hired_on:m.employee.hired_on,role:m.employee.user_role??""});b({name:"",start_time:"",end_time:"",shift_payment_multiplier:"",description:""});const x=()=>{l.hired_on=U(l.hired_on).format("YYYY-MM-DD"),l.put(route("employees.update",{id:m.employee.id}),{preserveScroll:!0,onError:()=>{f().error(s("Error Editing Employee"))},onSuccess:()=>{f().success(s("Employee Edited Successfully"))}})},V=()=>{h.mixin({customClass:{confirmButton:"mx-4 text-white bg-red-700 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",cancelButton:"text-white bg-purple-700 hover:bg-purple-800 focus:outline-none focus:ring-4 focus:ring-purple-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900"},buttonsStyling:!1}).fire({title:s("Are you sure?"),text:s("You won't be able to revert this!"),icon:"warning",showCancelButton:!0,confirmButtonText:s("Yes, Delete!"),cancelButtonText:s("No, Cancel!"),reverseButtons:!0}).then(r=>{r.isConfirmed&&l.delete(route("employees.destroy",{id:m.employee.id}),{preserveScroll:!0,onError:()=>{f().error(s("Error Removing Employee"))},onSuccess:()=>{h.fire(s("Employee Removed!"),"","success")}})})};return(E,r)=>(w(),k(C,null,[o(e(B),{title:e(s)("Employee Edit")},null,8,["title"]),o(q,null,{tabs:u(()=>[o(N)]),default:u(()=>[t("div",P,[t("div",T,[o($,{class:"!mt-0"},{default:u(()=>[t("p",M,c(e(s)("Edit :name Details",{name:_.employee.name})),1),t("form",{onSubmit:g(x,["prevent"]),class:"form"},[t("div",A,[t("div",null,[o(i,{for:"name",value:e(s)("Full Name")},null,8,["value"]),o(p,{id:"name",type:"text",class:n(["mt-1 block w-full",{"border-2 border-red-500 ":e(l).errors.name}]),modelValue:e(l).name,"onUpdate:modelValue":r[0]||(r[0]=a=>e(l).name=a),required:"",autofocus:"",autocomplete:"name"},null,8,["class","modelValue"]),o(d,{class:"mt-2",message:e(l).errors.name},null,8,["message"])]),t("div",null,[o(i,{for:"ic_number",value:e(s)("National ID")},null,8,["value"]),o(p,{id:"ic_number",type:"number",class:n(["mt-1 block w-full",{"border border-red-500":e(l).errors.ic_number}]),modelValue:e(l).ic_number,"onUpdate:modelValue":r[1]||(r[1]=a=>e(l).ic_number=a),required:"",pattern:"[0-9]{14}",autocomplete:"off"},null,8,["class","modelValue"]),o(d,{class:"mt-2",message:e(l).errors.ic_number},null,8,["message"])])]),t("div",F,[t("div",null,[o(i,{for:"phone",value:e(s)("Phone")},null,8,["value"]),o(p,{id:"phone",type:"text",class:n(["mt-1 block w-full",{"border border-red-500":e(l).errors.phone}]),modelValue:e(l).phone,"onUpdate:modelValue":r[2]||(r[2]=a=>e(l).phone=a),required:"",autocomplete:"off"},null,8,["class","modelValue"]),o(d,{class:"mt-2",message:e(l).errors.phone},null,8,["message"])]),t("div",null,[o(i,{for:"email",value:e(s)("Email")},null,8,["value"]),o(p,{id:"email",type:"email",class:n(["mt-1 block w-full",{"border border-red-500":e(l).errors.email}]),modelValue:e(l).email,"onUpdate:modelValue":r[3]||(r[3]=a=>e(l).email=a),required:"",autocomplete:"off"},null,8,["class","modelValue"]),o(d,{class:"mt-2",message:e(l).errors.email},null,8,["message"])])]),t("div",O,[o(i,{for:"address",value:e(s)("Address")},null,8,["value"]),o(p,{id:"address",type:"text",class:n(["mt-1 block w-full",{"border border-red-500":e(l).errors.address}]),modelValue:e(l).address,"onUpdate:modelValue":r[4]||(r[4]=a=>e(l).address=a),required:"",autocomplete:"off"},null,8,["class","modelValue"]),o(d,{class:"mt-2",message:e(l).errors.address},null,8,["message"])]),t("div",z,[o(i,{for:"hired_on",value:e(s)("Hire Date")},null,8,["value"]),o(e(Y),{id:"hired_on",modelValue:e(l).hired_on,"onUpdate:modelValue":r[5]||(r[5]=a=>e(l).hired_on=a),class:n(["py-1 block w-full",{"border border-red-500":e(l).errors.hired_on}]),"enable-time-picker":!1,dark:S("isDark").value,required:""},null,8,["modelValue","class","dark"]),o(d,{class:"mt-2",message:e(l).errors.hired_on},null,8,["message"])]),t("div",L,[t("div",null,[o(i,{for:"role",value:e(s)("Permissions Level")},null,8,["value"]),D(t("select",{id:"role",class:"fancy-selector","onUpdate:modelValue":r[6]||(r[6]=a=>e(l).role=a)},[t("option",R,c(e(s)("Choose a Permission Level")),1),r[7]||(r[7]=t("option",{value:"admin"},"Admin",-1)),r[8]||(r[8]=t("option",{value:"employee"},"Employee",-1))],512),[[j,e(l).role]]),o(d,{class:"mt-2",message:e(l).errors.role},null,8,["message"])])]),t("div",W,[t("form",{onSubmit:g(V,["prevent"]),class:"inline"},[o(y,{class:"bg-red-600 hover:bg-red-700 ml-4"},{default:u(()=>[v(c(e(s)("Delete Employee")),1)]),_:1})],32),o(y,{class:n(["ltr:ml-4 rtl:mr-4",{"opacity-25":e(l).processing}]),disabled:e(l).processing},{default:u(()=>[v(c(e(s)("Edit Employee")),1)]),_:1},8,["class","disabled"])])],32)]),_:1})])])]),_:1})],64))}};export{te as default};
