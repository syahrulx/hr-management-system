import{f as c,o as p,b as e,T as S,l as V,a as o,u as t,_ as a,Z as $,w as h,e as f,t as l,F as v,s as w,v as j,d as L,y,z as R,A as k,E as q,k as x,Q as B}from"./app-2Hl2Ns8d.js";import{_ as M,b as D}from"./Card-COmB5SsI.js";import{_,a as g}from"./InputLabel-2QMJvHOV.js";import{P as A}from"./PrimaryButton-CFN_8KXP.js";import{r as T,_ as Z}from"./ReqTabs-CVuJ94kx.js";import{o as E}from"./main-BFXAvZ15.js";import{r as F}from"./CalendarDaysIcon-F2E8-13S.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./GoBackNavLink-CPb7MqMP.js";function P(n,u){return p(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function N(n,u){return p(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function z(n,u){return p(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})])}const I={class:"py-8 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8 animate-fade-in-up"},Y={class:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"},U={class:"lg:col-span-3 space-y-6"},G={class:"absolute -right-4 -top-4 opacity-5 group-hover:opacity-10 transition-opacity"},O={class:"text-lg font-bold text-white mb-6 flex items-center gap-2"},H={class:"space-y-6"},J={class:"flex items-center justify-between mb-2"},Q={class:"flex flex-col"},K={class:"text-sm font-bold text-white"},W={class:"text-[10px] uppercase tracking-wider text-gray-500"},X={class:"text-right"},ee={class:"text-lg font-black text-red-500"},te={class:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden"},se={class:"p-6 rounded-2xl bg-emerald-500/5 border border-emerald-500/10 backdrop-blur-sm"},ae={class:"text-emerald-400 font-bold mb-2 flex items-center gap-2 uppercase tracking-tighter text-sm font-mono"},oe={class:"text-[11px] text-gray-400 leading-relaxed"},re={class:"lg:col-span-9"},le={class:"p-8 border-b border-white/5 bg-white/[0.02]"},ie={class:"text-3xl font-black text-white tracking-tight"},ne={class:"text-gray-400 text-sm mt-1"},de={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},ce={class:"space-y-1.5"},pe={class:"relative group"},ue={selected:"",value:"",class:"bg-[#18181b]"},me=["value"],he={class:"space-y-1.5"},_e={class:"space-y-1.5"},ge=["placeholder"],fe={class:"space-y-1.5"},ve={class:"relative flex items-center gap-3 p-1.5 bg-white/5 border border-white/10 rounded-xl group hover:border-white/20 transition-colors"},xe={class:"relative shrink-0"},be={class:"px-4 py-2 bg-white/10 group-hover:bg-white/15 text-white text-xs font-bold uppercase tracking-wider rounded-lg transition-colors flex items-center gap-2"},we={class:"flex-1 min-w-0 pr-3"},ye={class:"text-sm text-gray-400 truncate font-mono"},ke={class:"mt-1 text-xs text-gray-500 pl-1"},Be={class:"flex items-center justify-end pt-4 border-t border-white/5"},Me={class:"font-black uppercase tracking-widest text-sm"},Ae={__name:"RequestCreate",props:{types:Array,leaveBalances:Array},setup(n){const u=["Annual Leave","Sick Leave","Emergency Leave"],s=S({type:"",date:"",remark:"",support_doc:null});V(()=>s.type,d=>{d==="leave"&&(s.date="")});const C=()=>{Object.keys(s.date).forEach(function(d){s.date[d]&&!/^\d{4}-\d{2}-\d{2}$/.test(s.date[d])&&(s.date[d]=k(s.date[d]).format("YYYY-MM-DD"))}),s.post(route("requests.store"),{preserveScroll:!0,onError:()=>{B().props.errors.past_leave?x().error(B().props.errors.past_leave):x().error(a("Error Creating Request"))},onSuccess:()=>{x().success(a("Request Created Successfully")),s.reset()}})};return(d,i)=>(p(),c(v,null,[o(t($),{title:t(a)("Request Leave")},null,8,["title"]),o(D,null,{tabs:h(()=>[o(Z)]),default:h(()=>[e("div",I,[e("div",Y,[e("aside",U,[o(M,{variant:"glass",class:"!mt-0 relative overflow-hidden group"},{default:h(()=>[e("div",G,[o(t(P),{class:"w-32 h-32 text-white"})]),e("h2",O,[o(t(F),{class:"w-5 h-5 text-red-500"}),f(" "+l(t(a)("Leave Balances")),1)]),e("div",H,[(p(),c(v,null,w(u,r=>{var b;return e("div",{key:r,class:"group/item"},[e("div",J,[e("div",Q,[e("span",K,l(t(a)(r)),1),e("span",W,l(t(a)("Remaining Days")),1)]),e("div",X,[e("span",ee,l(n.leaveBalances&&n.leaveBalances.find(m=>m.leave_type===r)?n.leaveBalances.find(m=>m.leave_type===r).balance:0),1)])]),e("div",te,[e("div",{class:"h-full bg-gradient-to-r from-red-600 to-red-400 rounded-full group-hover/item:opacity-80 transition-all shadow-[0_0_10px_rgba(239,68,68,0.3)]",style:j({width:`${Math.min((n.leaveBalances&&((b=n.leaveBalances.find(m=>m.leave_type===r))==null?void 0:b.balance)||0)*7,100)}%`})},null,4)])])}),64))])]),_:1}),e("div",se,[e("h4",ae,[o(t(N),{class:"w-4 h-4"}),f(" "+l(t(a)("Important")),1)]),e("p",oe,l(t(a)("Please ensure all required documents are ready if you are applying for Sick Leave or long-term Absence.")),1)])]),e("main",re,[o(M,{variant:"glass",class:"!mt-0 overflow-hidden relative"},{default:h(()=>[e("div",le,[e("h1",ie,l(t(a)("Initiate Request")),1),e("p",ne,l(t(a)("Apply for your time-off with details below.")),1)]),e("form",{onSubmit:L(C,["prevent"]),class:"p-8 space-y-8"},[e("div",de,[e("div",ce,[o(_,{for:"type_id",value:t(a)("Type of Leave"),class:"!mb-0"},null,8,["value"]),e("div",pe,[y(e("select",{id:"type_id",class:"w-full bg-white/5 border border-white/10 text-gray-100 text-sm rounded-xl focus:ring-red-500 focus:border-red-500 block p-3 pr-10 appearance-none transition-all","onUpdate:modelValue":i[0]||(i[0]=r=>t(s).type=r)},[e("option",ue,l(t(a)("Choose a Leave Type")),1),(p(),c(v,null,w(u,r=>e("option",{key:r,value:r,class:"bg-[#18181b]"},l(r),9,me)),64))],512),[[R,t(s).type]]),i[4]||(i[4]=e("div",{class:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none text-gray-500"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),o(g,{class:"mt-2",message:t(s).errors.type},null,8,["message"])]),e("div",he,[o(_,{for:"date",value:t(a)("Date Range selection"),class:"!mb-0"},null,8,["value"]),o(t(E),{id:"date",modelValue:t(s).date,"onUpdate:modelValue":i[1]||(i[1]=r=>t(s).date=r),class:"modern-datepicker",placeholder:t(a)("Select Date..."),"enable-time-picker":!1,"min-date":t(s).type==="leave"?t(k)().tz().format():"",dark:!0,range:"",required:""},null,8,["modelValue","placeholder","min-date"]),o(g,{class:"mt-2",message:t(s).errors.date},null,8,["message"])])]),e("div",_e,[o(_,{for:"remark",value:t(a)("Remark / Reason"),class:"!mb-0"},null,8,["value"]),y(e("textarea",{id:"remark",class:"w-full bg-white/5 border border-white/10 text-gray-100 text-sm rounded-xl focus:ring-red-500 focus:border-red-500 block p-4 min-h-[120px] transition-all placeholder:text-gray-600","onUpdate:modelValue":i[2]||(i[2]=r=>t(s).remark=r),autocomplete:"off",placeholder:t(a)("I will be absent for 3 days because...")},null,8,ge),[[q,t(s).remark]]),o(g,{class:"mt-2",message:t(s).errors.remark},null,8,["message"])]),e("div",fe,[o(_,{for:"support_doc",value:t(a)("Supporting Document (Optional)"),class:"!mb-0"},null,8,["value"]),e("div",ve,[e("div",xe,[e("input",{type:"file",id:"support_doc",onInput:i[3]||(i[3]=r=>t(s).support_doc=r.target.files[0]),class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",accept:".jpg,.jpeg,.png,.pdf"},null,32),e("div",be,[o(t(T),{class:"w-4 h-4"}),f(" "+l(t(a)("Choose File")),1)])]),e("div",we,[e("p",ye,l(t(s).support_doc?t(s).support_doc.name:t(a)("No file selected")),1)])]),e("p",ke,l(t(a)("Max 5MB. Formats: JPG, PNG, PDF.")),1),o(g,{class:"mt-2",message:t(s).errors.support_doc},null,8,["message"])]),e("div",Be,[o(A,{class:"!bg-red-600 hover:!bg-red-700 !rounded-xl !px-10 !py-4 !text-white flex items-center gap-3 transition-all shadow-xl hover:shadow-red-500/20 group",disabled:t(s).processing},{default:h(()=>[e("span",Me,l(t(a)("Submit Request")),1),o(t(z),{class:"w-5 h-5 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]),_:1},8,["disabled"])])],32)]),_:1})])])])]),_:1})],64))}};export{Ae as default};
