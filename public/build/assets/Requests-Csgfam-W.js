import{a as y}from"./NavLink-BWYaVLsK.js";import{f as i,o as l,b as e,_ as a,a as n,u as t,Z as k,w as h,e as x,t as s,F as p,K as m,l as g,c as B,g as f,n as b}from"./app-gPqHxEC4.js";import{_ as $}from"./FlexButton-DZdwYg-S.js";import{_ as T}from"./ReqTabs-waDcxUXz.js";import{_ as v}from"./Card-CIKn3hLP.js";import{r as j,a as w}from"./ChartBarIcon-CfQvoyHE.js";import{r as L}from"./CheckCircleIcon-CeZeSp1z.js";import{r as S}from"./ClockIcon-BvEPCW38.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./GoBackNavLink-D5nIb7cp.js";function A(r,_){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})])}function C(r,_){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}const N={pending:a("Pending"),approved:a("Approved"),rejected:a("Rejected")},R={class:"py-8 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8 animate-fade-in-up"},M={class:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"},q={class:"lg:col-span-3 space-y-6"},D={class:"absolute -right-4 -top-4 opacity-5 group-hover:opacity-10 transition-opacity"},E={key:0},V={class:"text-lg font-bold text-white mb-6 flex items-center gap-2"},P={class:"space-y-5"},z={class:"flex items-center justify-between mb-2"},F={class:"text-sm font-medium text-gray-300"},O={class:"text-sm font-bold text-white bg-red-500/10 px-2 py-0.5 rounded border border-red-500/20"},H={class:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden"},I={key:1},K={class:"text-lg font-bold text-white mb-6 flex items-center gap-2"},Z={class:"space-y-6"},G={class:"flex items-center justify-between mb-2"},J={class:"flex flex-col"},Q={class:"text-sm font-bold text-white"},U={class:"text-[10px] uppercase tracking-wider text-gray-500"},W={class:"text-right"},X={class:"text-lg font-black text-red-500"},Y={class:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden"},ee={class:"p-6 rounded-2xl bg-gradient-to-br from-red-600/10 to-transparent border border-red-500/20 backdrop-blur-sm"},te={class:"text-white font-bold mb-2 flex items-center gap-2 uppercase tracking-tighter text-sm"},se={class:"text-xs text-gray-400 leading-relaxed"},ae={class:"lg:col-span-9"},oe={class:"p-8 border-b border-white/5 flex flex-col md:flex-row md:justify-between md:items-center gap-6 bg-white/[0.02]"},re={class:"text-3xl font-black text-white tracking-tight flex items-center gap-3"},ne={class:"text-sm font-medium text-gray-500 bg-white/5 px-2.5 py-1 rounded-lg border border-white/10 uppercase tracking-widest"},le={class:"text-gray-400 text-sm mt-1"},ie={class:"font-bold"},de={class:"overflow-x-auto"},ce={class:"w-full text-left border-collapse"},he={class:"bg-black/20"},xe={class:"px-6 py-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 border-b border-white/5"},pe={class:"px-6 py-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 border-b border-white/5"},_e={class:"px-6 py-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 border-b border-white/5 text-center"},ue={class:"px-6 py-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 border-b border-white/5 text-center"},me={class:"px-6 py-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 border-b border-white/5 text-right"},ge={class:"divide-y divide-white/5"},fe={class:"px-6 py-5 font-mono text-sm font-bold text-red-500/80"},be={class:"px-6 py-5"},ve={class:"flex flex-col"},we={class:"text-white font-bold group-hover:text-red-400 transition-colors"},ye={class:"text-xs text-gray-500"},ke={class:"px-6 py-5"},Be={class:"flex items-center justify-center gap-3 text-sm"},$e={class:"text-center"},Te={class:"text-white font-medium"},je={class:"text-[10px] text-gray-500 uppercase"},Le={class:"text-center"},Se={class:"text-white font-medium"},Ae={class:"text-[10px] text-gray-500 uppercase"},Ce={class:"px-6 py-5 text-center"},Ne={class:"px-6 py-5 text-right"},Re=["href"],Me={key:0},qe={colspan:"5",class:"px-6 py-20 text-center"},De={class:"flex flex-col items-center gap-4 opacity-20"},Ee={class:"text-xl font-bold text-white"},Qe={__name:"Requests",props:{requests:Object,leaveBalances:Array,leaveTotals:Object},setup(r){const _=d=>{switch(d){case"Pending":return"text-amber-400 bg-amber-400/10 border-amber-400/20";case"Approved":return"text-emerald-400 bg-emerald-400/10 border-emerald-400/20";case"Rejected":return"text-rose-400 bg-rose-400/10 border-rose-400/20";default:return"text-gray-400 bg-gray-400/10 border-gray-400/20"}};return(d,Ve)=>(l(),i(p,null,[n(t(k),{title:t(a)("Requests")},null,8,["title"]),n(y,null,{tabs:h(()=>[n(T)]),default:h(()=>[e("div",R,[e("div",M,[e("aside",q,[n(v,{variant:"glass",class:"!mt-0 relative overflow-hidden group"},{default:h(()=>[e("div",D,[n(t(j),{class:"w-32 h-32 text-white"})]),["admin","owner"].includes(d.$page.props.auth.user.role)?(l(),i("div",E,[e("h2",V,[n(t(L),{class:"w-5 h-5 text-emerald-500"}),x(" "+s(t(a)("Total Approved")),1)]),e("div",P,[(l(),i(p,null,m(["Annual Leave","Emergency Leave","Sick Leave"],o=>e("div",{key:o,class:"group/item"},[e("div",z,[e("span",F,s(t(a)(o)),1),e("span",O,s(r.leaveTotals&&r.leaveTotals[o]?r.leaveTotals[o]:0),1)]),e("div",H,[e("div",{class:"h-full bg-red-500/40 rounded-full group-hover/item:bg-red-500/60 transition-all",style:g({width:`${Math.min((r.leaveTotals&&r.leaveTotals[o]?r.leaveTotals[o]:0)*5,100)}%`})},null,4)])])),64))])])):(l(),i("div",I,[e("h2",K,[n(t(w),{class:"w-5 h-5 text-red-500"}),x(" "+s(t(a)("Leave Balances")),1)]),e("div",Z,[(l(),i(p,null,m(["Annual Leave","Emergency Leave","Sick Leave"],o=>{var u;return e("div",{key:o,class:"group/item"},[e("div",G,[e("div",J,[e("span",Q,s(t(a)(o)),1),e("span",U,s(t(a)("Remaining Days")),1)]),e("div",W,[e("span",X,s(r.leaveBalances&&r.leaveBalances.find(c=>c.leave_type===o)?r.leaveBalances.find(c=>c.leave_type===o).balance:0),1)])]),e("div",Y,[e("div",{class:"h-full bg-gradient-to-r from-red-600 to-red-400 rounded-full group-hover/item:opacity-80 transition-all shadow-[0_0_10px_rgba(239,68,68,0.3)]",style:g({width:`${Math.min((r.leaveBalances&&((u=r.leaveBalances.find(c=>c.leave_type===o))==null?void 0:u.balance)||0)*7,100)}%`})},null,4)])])}),64))])]))]),_:1}),e("div",ee,[e("h4",te,[n(t(S),{class:"w-4 h-4 text-red-500"}),x(" "+s(t(a)("Processing Time")),1)]),e("p",se,s(t(a)("Leave requests are typically reviewed within 24-48 hours by your supervisor.")),1)])]),e("main",ae,[n(v,{variant:"glass",class:"!mt-0 !p-0 overflow-hidden"},{default:h(()=>[e("div",oe,[e("div",null,[e("h1",re,[x(s(t(a)("Leave Requests"))+" ",1),e("span",ne,s(r.requests.data.length)+" "+s(t(a)("Total")),1)]),e("p",le,s(t(a)("Manage and track your time-off applications.")),1)]),["admin","owner"].includes(d.$page.props.auth.user.role)?f("",!0):(l(),B($,{key:0,href:d.route("requests.create"),class:b("!bg-red-600 hover:!bg-red-700 !rounded-xl !px-6 !py-3 !text-white flex items-center gap-2 transition-all shadow-xl hover:shadow-red-500/20 group")},{default:h(()=>[n(t(C),{class:"w-5 h-5 group-hover:rotate-90 transition-transform duration-300"}),e("span",ie,s(t(a)("New Request")),1)]),_:1},8,["href"]))]),e("div",de,[e("table",ce,[e("thead",null,[e("tr",he,[e("th",xe,s(t(a)("ID")),1),e("th",pe,s(t(a)("Employee / Type")),1),e("th",_e,s(t(a)("Duration")),1),e("th",ue,s(t(a)("Status")),1),e("th",me,s(t(a)("Action")),1)])]),e("tbody",ge,[(l(!0),i(p,null,m(r.requests.data,(o,u)=>(l(),i("tr",{key:o.id,class:"group hover:bg-white/[0.02] transition-colors"},[e("td",fe," #"+s(o.id.toString().padStart(4,"0")),1),e("td",be,[e("div",ve,[e("span",we,s(o.employee_name),1),e("span",ye,s(o.type),1)])]),e("td",ke,[e("div",Be,[e("div",$e,[e("p",Te,s(o.start_date),1),e("p",je,s(t(a)("Start")),1)]),n(t(A),{class:"w-3 h-3 text-red-500/40"}),e("div",Le,[e("p",Se,s(o.end_date??t(a)("N/A")),1),e("p",Ae,s(t(a)("End")),1)])])]),e("td",Ce,[e("span",{class:b([_(o.status),"inline-flex items-center px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border shadow-sm"])},s(t(N)[o.status.toLowerCase()]||o.status),3)]),e("td",Ne,[e("a",{href:d.route("requests.show",{request:o.id}),class:"inline-flex items-center gap-1.5 text-xs font-bold text-gray-400 hover:text-white bg-white/5 hover:bg-red-600 px-4 py-2 rounded-lg border border-white/10 transition-all shadow-sm"},s(t(a)("View Details")),9,Re)])]))),128)),r.requests.data.length===0?(l(),i("tr",Me,[e("td",qe,[e("div",De,[n(t(w),{class:"w-16 h-16 text-white"}),e("p",Ee,s(t(a)("No requests found")),1)])])])):f("",!0)])])])]),_:1})])])])]),_:1})],64))}};export{Qe as default};
