import{_ as y}from"./AuthenticatedLayout-ChNucw6q.js";import{f as l,o as n,b as e,_ as a,a as i,u as t,Z as k,w as x,e as p,t as s,F as u,K as g,l as m,c as B,g as f,n as b}from"./app-DhlWhibi.js";import{_ as j}from"./FlexButton-Csg9tjEn.js";import{r as $,a as w,_ as T}from"./ReqTabs-CJKR9cUS.js";import{_ as v}from"./Card-BxnZUkzp.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-B32f-vXH.js";import"./GoBackNavLink-DFQhtoJg.js";function L(r,c){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})])}function C(r,c){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function M(r,c){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function S(r,c){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}const A={pending:a("Pending"),approved:a("Approved"),rejected:a("Rejected")},N={class:"py-8 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8 animate-fade-in-up"},R={class:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"},q={class:"lg:col-span-3 space-y-6"},D={class:"absolute -right-4 -top-4 opacity-5 group-hover:opacity-10 transition-opacity"},E={key:0},V={class:"text-lg font-bold text-white mb-6 flex items-center gap-2"},P={class:"space-y-5"},Z={class:"flex items-center justify-between mb-2"},z={class:"text-sm font-medium text-gray-300"},F={class:"text-sm font-bold text-white bg-red-500/10 px-2 py-0.5 rounded border border-red-500/20"},O={class:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden"},H={key:1},I={class:"text-lg font-bold text-white mb-6 flex items-center gap-2"},K={class:"space-y-6"},G={class:"flex items-center justify-between mb-2"},J={class:"flex flex-col"},Q={class:"text-sm font-bold text-white"},U={class:"text-[10px] uppercase tracking-wider text-gray-500"},W={class:"text-right"},X={class:"text-lg font-black text-red-500"},Y={class:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden"},ee={class:"p-6 rounded-2xl bg-gradient-to-br from-red-600/10 to-transparent border border-red-500/20 backdrop-blur-sm"},te={class:"text-white font-bold mb-2 flex items-center gap-2 uppercase tracking-tighter text-sm"},se={class:"text-xs text-gray-400 leading-relaxed"},ae={class:"lg:col-span-9"},oe={class:"p-8 border-b border-white/5 flex flex-col md:flex-row md:justify-between md:items-center gap-6 bg-white/[0.02]"},re={class:"text-3xl font-black text-white tracking-tight flex items-center gap-3"},ne={class:"text-sm font-medium text-gray-500 bg-white/5 px-2.5 py-1 rounded-lg border border-white/10 uppercase tracking-widest"},ie={class:"text-gray-400 text-sm mt-1"},le={class:"font-bold"},de={class:"overflow-x-auto"},ce={class:"w-full text-left border-collapse"},he={class:"bg-black/20"},xe={class:"px-6 py-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 border-b border-white/5"},pe={class:"px-6 py-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 border-b border-white/5"},ue={class:"px-6 py-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 border-b border-white/5 text-center"},_e={class:"px-6 py-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 border-b border-white/5 text-center"},ge={class:"px-6 py-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500 border-b border-white/5 text-right"},me={class:"divide-y divide-white/5"},fe={class:"px-6 py-5 font-mono text-sm font-bold text-red-500/80"},be={class:"px-6 py-5"},we={class:"flex flex-col"},ve={class:"text-white font-bold group-hover:text-red-400 transition-colors"},ye={class:"text-xs text-gray-500"},ke={class:"px-6 py-5"},Be={class:"flex items-center justify-center gap-3 text-sm"},je={class:"text-center"},$e={class:"text-white font-medium"},Te={class:"text-[10px] text-gray-500 uppercase"},Le={class:"text-center"},Ce={class:"text-white font-medium"},Me={class:"text-[10px] text-gray-500 uppercase"},Se={class:"px-6 py-5 text-center"},Ae={class:"px-6 py-5 text-right"},Ne=["href"],Re={key:0},qe={colspan:"5",class:"px-6 py-20 text-center"},De={class:"flex flex-col items-center gap-4 opacity-20"},Ee={class:"text-xl font-bold text-white"},Ge={__name:"Requests",props:{requests:Object,leaveBalances:Array,leaveTotals:Object},setup(r){const c=d=>{switch(d){case"Pending":return"text-amber-400 bg-amber-400/10 border-amber-400/20";case"Approved":return"text-emerald-400 bg-emerald-400/10 border-emerald-400/20";case"Rejected":return"text-rose-400 bg-rose-400/10 border-rose-400/20";default:return"text-gray-400 bg-gray-400/10 border-gray-400/20"}};return(d,Ve)=>(n(),l(u,null,[i(t(k),{title:t(a)("Requests")},null,8,["title"]),i(y,null,{tabs:x(()=>[i(T)]),default:x(()=>[e("div",N,[e("div",R,[e("aside",q,[i(v,{variant:"glass",class:"!mt-0 relative overflow-hidden group"},{default:x(()=>[e("div",D,[i(t($),{class:"w-32 h-32 text-white"})]),["admin","owner"].includes(d.$page.props.auth.user.role)?(n(),l("div",E,[e("h2",V,[i(t(C),{class:"w-5 h-5 text-emerald-500"}),p(" "+s(t(a)("Total Approved")),1)]),e("div",P,[(n(),l(u,null,g(["Annual Leave","Emergency Leave","Sick Leave"],o=>e("div",{key:o,class:"group/item"},[e("div",Z,[e("span",z,s(t(a)(o)),1),e("span",F,s(r.leaveTotals&&r.leaveTotals[o]?r.leaveTotals[o]:0),1)]),e("div",O,[e("div",{class:"h-full bg-red-500/40 rounded-full group-hover/item:bg-red-500/60 transition-all",style:m({width:`${Math.min((r.leaveTotals&&r.leaveTotals[o]?r.leaveTotals[o]:0)*5,100)}%`})},null,4)])])),64))])])):(n(),l("div",H,[e("h2",I,[i(t(w),{class:"w-5 h-5 text-red-500"}),p(" "+s(t(a)("Leave Balances")),1)]),e("div",K,[(n(),l(u,null,g(["Annual Leave","Emergency Leave","Sick Leave"],o=>{var _;return e("div",{key:o,class:"group/item"},[e("div",G,[e("div",J,[e("span",Q,s(t(a)(o)),1),e("span",U,s(t(a)("Remaining Days")),1)]),e("div",W,[e("span",X,s(r.leaveBalances&&r.leaveBalances.find(h=>h.leave_type===o)?r.leaveBalances.find(h=>h.leave_type===o).balance:0),1)])]),e("div",Y,[e("div",{class:"h-full bg-gradient-to-r from-red-600 to-red-400 rounded-full group-hover/item:opacity-80 transition-all shadow-[0_0_10px_rgba(239,68,68,0.3)]",style:m({width:`${Math.min((r.leaveBalances&&((_=r.leaveBalances.find(h=>h.leave_type===o))==null?void 0:_.balance)||0)*7,100)}%`})},null,4)])])}),64))])]))]),_:1}),e("div",ee,[e("h4",te,[i(t(M),{class:"w-4 h-4 text-red-500"}),p(" "+s(t(a)("Processing Time")),1)]),e("p",se,s(t(a)("Leave requests are typically reviewed within 24-48 hours by your supervisor.")),1)])]),e("main",ae,[i(v,{variant:"glass",class:"!mt-0 !p-0 overflow-hidden"},{default:x(()=>[e("div",oe,[e("div",null,[e("h1",re,[p(s(t(a)("Leave Requests"))+" ",1),e("span",ne,s(r.requests.data.length)+" "+s(t(a)("Total")),1)]),e("p",ie,s(t(a)("Manage and track your time-off applications.")),1)]),["admin","owner"].includes(d.$page.props.auth.user.role)?f("",!0):(n(),B(j,{key:0,href:d.route("requests.create"),class:b("!bg-red-600 hover:!bg-red-700 !rounded-xl !px-6 !py-3 !text-white flex items-center gap-2 transition-all shadow-xl hover:shadow-red-500/20 group")},{default:x(()=>[i(t(S),{class:"w-5 h-5 group-hover:rotate-90 transition-transform duration-300"}),e("span",le,s(t(a)("New Request")),1)]),_:1},8,["href"]))]),e("div",de,[e("table",ce,[e("thead",null,[e("tr",he,[e("th",xe,s(t(a)("ID")),1),e("th",pe,s(t(a)("Employee / Type")),1),e("th",ue,s(t(a)("Duration")),1),e("th",_e,s(t(a)("Status")),1),e("th",ge,s(t(a)("Action")),1)])]),e("tbody",me,[(n(!0),l(u,null,g(r.requests.data,(o,_)=>(n(),l("tr",{key:o.id,class:"group hover:bg-white/[0.02] transition-colors"},[e("td",fe," #"+s(o.id.toString().padStart(4,"0")),1),e("td",be,[e("div",we,[e("span",ve,s(o.employee_name),1),e("span",ye,s(o.type),1)])]),e("td",ke,[e("div",Be,[e("div",je,[e("p",$e,s(o.start_date),1),e("p",Te,s(t(a)("Start")),1)]),i(t(L),{class:"w-3 h-3 text-red-500/40"}),e("div",Le,[e("p",Ce,s(o.end_date??t(a)("N/A")),1),e("p",Me,s(t(a)("End")),1)])])]),e("td",Se,[e("span",{class:b([c(o.status),"inline-flex items-center px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border shadow-sm"])},s(t(A)[o.status.toLowerCase()]||o.status),3)]),e("td",Ae,[e("a",{href:d.route("requests.show",{request:o.id}),class:"inline-flex items-center gap-1.5 text-xs font-bold text-gray-400 hover:text-white bg-white/5 hover:bg-red-600 px-4 py-2 rounded-lg border border-white/10 transition-all shadow-sm"},s(t(a)("View Details")),9,Ne)])]))),128)),r.requests.data.length===0?(n(),l("tr",Re,[e("td",qe,[e("div",De,[i(t(w),{class:"w-16 h-16 text-white"}),e("p",Ee,s(t(a)("No requests found")),1)])])])):f("",!0)])])])]),_:1})])])])]),_:1})],64))}};export{Ge as default};
