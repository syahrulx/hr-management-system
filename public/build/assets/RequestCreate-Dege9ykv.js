import{f as p,o as m,b as e,T as R,z as $,a,u as t,_ as r,Z as q,w as u,e as b,t as l,F as f,K as w,l as M,d as V,i as y,H as C,I as k,J as D,D as _,Q as B}from"./app-DhlWhibi.js";import{_ as j}from"./AuthenticatedLayout-ChNucw6q.js";import{_ as g,a as v}from"./InputLabel-D0xjVVKP.js";import{P as T}from"./PrimaryButton-Dqn9z1jI.js";import{r as A,a as E,_ as I}from"./ReqTabs-CJKR9cUS.js";import{o as Y}from"./main-CmhkxNX_.js";import{_ as S}from"./Card-BxnZUkzp.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-B32f-vXH.js";import"./GoBackNavLink-DFQhtoJg.js";function Z(n,h){return m(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function z(n,h){return m(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})])}const F={class:"py-8 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8 animate-fade-in-up"},N={class:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"},P={class:"lg:col-span-3 space-y-6"},U={class:"absolute -right-4 -top-4 opacity-5 group-hover:opacity-10 transition-opacity"},H={class:"text-lg font-bold text-white mb-6 flex items-center gap-2"},J={class:"space-y-6"},K={class:"flex items-center justify-between mb-2"},O={class:"flex flex-col"},Q={class:"text-sm font-bold text-white"},G={class:"text-[10px] uppercase tracking-wider text-gray-500"},W={class:"text-right"},X={class:"text-lg font-black text-red-500"},ee={class:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden"},te={class:"p-6 rounded-2xl bg-emerald-500/5 border border-emerald-500/10 backdrop-blur-sm"},se={class:"text-emerald-400 font-bold mb-2 flex items-center gap-2 uppercase tracking-tighter text-sm font-mono"},ae={class:"text-[11px] text-gray-400 leading-relaxed"},re={class:"lg:col-span-9"},oe={class:"p-8 border-b border-white/5 bg-white/[0.02]"},le={class:"text-3xl font-black text-white tracking-tight"},ie={class:"text-gray-400 text-sm mt-1"},ne={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},de={class:"space-y-1.5"},ce={class:"relative group"},ue={selected:"",value:"",class:"bg-[#18181b]"},pe=["value"],me={class:"space-y-1.5"},he={class:"space-y-1.5"},fe=["placeholder"],_e={class:"flex items-center justify-end pt-4 border-t border-white/5"},ge={class:"font-black uppercase tracking-widest text-sm"},$e={__name:"RequestCreate",props:{types:Array,leaveBalances:Array},setup(n){const h=["Annual Leave","Emergency Leave","Sick Leave"],s=R({type:"",date:"",remark:""});$(()=>s.type,d=>{d==="leave"&&(s.date="")});const L=()=>{Object.keys(s.date).forEach(function(d){s.date[d]&&!/^\d{4}-\d{2}-\d{2}$/.test(s.date[d])&&(s.date[d]=k(s.date[d]).format("YYYY-MM-DD"))}),s.post(route("requests.store"),{preserveScroll:!0,onError:()=>{B().props.errors.past_leave?_().error(B().props.errors.past_leave):_().error(r("Error Creating Request"))},onSuccess:()=>{_().success(r("Request Created Successfully")),s.reset()}})};return(d,i)=>(m(),p(f,null,[a(t(q),{title:t(r)("Request Leave")},null,8,["title"]),a(j,null,{tabs:u(()=>[a(I)]),default:u(()=>[e("div",F,[e("div",N,[e("aside",P,[a(S,{variant:"glass",class:"!mt-0 relative overflow-hidden group"},{default:u(()=>[e("div",U,[a(t(A),{class:"w-32 h-32 text-white"})]),e("h2",H,[a(t(E),{class:"w-5 h-5 text-red-500"}),b(" "+l(t(r)("Leave Balances")),1)]),e("div",J,[(m(),p(f,null,w(h,o=>{var x;return e("div",{key:o,class:"group/item"},[e("div",K,[e("div",O,[e("span",Q,l(t(r)(o)),1),e("span",G,l(t(r)("Remaining Days")),1)]),e("div",W,[e("span",X,l(n.leaveBalances&&n.leaveBalances.find(c=>c.leave_type===o)?n.leaveBalances.find(c=>c.leave_type===o).balance:0),1)])]),e("div",ee,[e("div",{class:"h-full bg-gradient-to-r from-red-600 to-red-400 rounded-full group-hover/item:opacity-80 transition-all shadow-[0_0_10px_rgba(239,68,68,0.3)]",style:M({width:`${Math.min((n.leaveBalances&&((x=n.leaveBalances.find(c=>c.leave_type===o))==null?void 0:x.balance)||0)*7,100)}%`})},null,4)])])}),64))])]),_:1}),e("div",te,[e("h4",se,[a(t(Z),{class:"w-4 h-4"}),b(" "+l(t(r)("Important")),1)]),e("p",ae,l(t(r)("Please ensure all required documents are ready if you are applying for Sick Leave or long-term Absence.")),1)])]),e("main",re,[a(S,{variant:"glass",class:"!mt-0 overflow-hidden relative"},{default:u(()=>[e("div",oe,[e("h1",le,l(t(r)("Initiate Request")),1),e("p",ie,l(t(r)("Apply for your time-off with details below.")),1)]),e("form",{onSubmit:V(L,["prevent"]),class:"p-8 space-y-8"},[e("div",ne,[e("div",de,[a(g,{for:"type_id",value:t(r)("Type of Leave"),class:"!mb-0"},null,8,["value"]),e("div",ce,[y(e("select",{id:"type_id",class:"w-full bg-white/5 border border-white/10 text-gray-100 text-sm rounded-xl focus:ring-red-500 focus:border-red-500 block p-3 pr-10 appearance-none transition-all","onUpdate:modelValue":i[0]||(i[0]=o=>t(s).type=o)},[e("option",ue,l(t(r)("Choose a Leave Type")),1),(m(),p(f,null,w(h,o=>e("option",{key:o,value:o,class:"bg-[#18181b]"},l(o),9,pe)),64))],512),[[C,t(s).type]]),i[3]||(i[3]=e("div",{class:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none text-gray-500"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),a(v,{class:"mt-2",message:t(s).errors.type},null,8,["message"])]),e("div",me,[a(g,{for:"date",value:t(r)("Date Range selection"),class:"!mb-0"},null,8,["value"]),a(t(Y),{id:"date",modelValue:t(s).date,"onUpdate:modelValue":i[1]||(i[1]=o=>t(s).date=o),class:"modern-datepicker",placeholder:t(r)("Select Date..."),"enable-time-picker":!1,"min-date":t(s).type==="leave"?t(k)().tz().format():"",dark:!0,range:"",required:""},null,8,["modelValue","placeholder","min-date"]),a(v,{class:"mt-2",message:t(s).errors.date},null,8,["message"])])]),e("div",he,[a(g,{for:"remark",value:t(r)("Remark / Reason"),class:"!mb-0"},null,8,["value"]),y(e("textarea",{id:"remark",class:"w-full bg-white/5 border border-white/10 text-gray-100 text-sm rounded-xl focus:ring-red-500 focus:border-red-500 block p-4 min-h-[120px] transition-all placeholder:text-gray-600","onUpdate:modelValue":i[2]||(i[2]=o=>t(s).remark=o),autocomplete:"off",placeholder:t(r)("I will be absent for 3 days because...")},null,8,fe),[[D,t(s).remark]]),a(v,{class:"mt-2",message:t(s).errors.remark},null,8,["message"])]),e("div",_e,[a(T,{class:"!bg-red-600 hover:!bg-red-700 !rounded-xl !px-10 !py-4 !text-white flex items-center gap-3 transition-all shadow-xl hover:shadow-red-500/20 group",disabled:t(s).processing},{default:u(()=>[e("span",ge,l(t(r)("Submit Request")),1),a(t(z),{class:"w-5 h-5 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]),_:1},8,["disabled"])])],32)]),_:1})])])])]),_:1})],64))}};export{$e as default};
