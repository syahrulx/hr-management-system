import{a as A}from"./NavLink-R6-eDFU4.js";import{x as T,f as u,o as d,b as l,t as o,k as h,i as V,J as j,F as x,Q as Y,n as k,g as B,K as z,c as p,a,w as t,u as r,j as w,e as i,_ as n,Z as q}from"./app-aLoFjEVj.js";import{_ as G}from"./EmployeeTabs-iA4_JPD1.js";import{_ as H}from"./FlexButton-D8G_OGg3.js";import{i as P}from"./index--HqqyPlz.js";import{_ as D}from"./Card-B0_1lvcZ.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R=["data-modal-target","data-modal-toggle"],J=["id"],K={class:"relative w-full max-w-2xl max-h-full"},Q={class:"relative bg-white rounded-lg shadow dark:bg-gray-800"},U={class:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600"},Z={class:"text-xl text-gray-900 dark:text-white"},W=["data-modal-hide"],X={class:"p-6 space-y-6"},ee={class:"flex items-center p-6 space-x-2 rtl:space-x-reverse border-t border-gray-200 rounded-b dark:border-gray-600"},te={key:0},ae={key:1},le=["data-modal-hide"],se=["data-modal-hide"],oe={__name:"GenericModal",props:{title:String,modalId:String,modalHeader:String,hasCustomFooter:{type:Boolean,default:!1},footerActionName:{type:String,default:"Close"},hasCancel:{type:Boolean,default:!1}},setup(e){return T(()=>{P()}),(s,c)=>(d(),u(x,null,[l("a",{"data-modal-target":e.modalId,"data-modal-toggle":e.modalId,class:"cursor-pointer text-xs font-medium text-purple-600 dark:text-purple-500 hover:underline"},o(e.title),9,R),l("div",{id:e.modalId,tabindex:"-1","aria-hidden":"true",class:"fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full"},[l("div",K,[l("div",Q,[l("div",U,[l("h3",Z,o(e.modalHeader),1),l("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":e.modalId},[...c[0]||(c[0]=[l("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),l("span",{class:"sr-only"},"Close modal",-1)])],8,W)]),l("div",X,[h(s.$slots,"default")]),l("div",ee,[e.hasCustomFooter?(d(),u("div",te,[h(s.$slots,"customFooter")])):(d(),u("div",ae,[l("button",{"data-modal-hide":e.modalId,type:"button",class:"text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:outline-none focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-purple-700 dark:hover:bg-purple-700 dark:focus:ring-purple-800"},o(e.footerActionName),9,le),V(l("button",{"data-modal-hide":e.modalId,type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-purple-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," Cancel ",8,se),[[j,e.hasCancel]])]))])])])],8,J)],64))}};function re(){function e(s){const c={year:"numeric",month:"long",day:"numeric"},m=1800+(parseInt(s.charAt(0))-1)*100+parseInt(s.substr(1,2)),b=parseInt(s.substr(3,2)),C=parseInt(s.substr(5,2)),E=s.substr(7,2),F={"01":"القاهرة","02":"الإسكندرية","03":"بورسعيد","04":"السويس",11:"دمياط",12:"الدقهلية",13:"الشرقية",14:"القليوبية",15:"كفر الشيخ",16:"الغربية",17:"المنوفية",18:"البحيرة",19:"الإسماعيلية",21:"الجيزة",22:"بني سويف",23:"الفيوم",24:"المنيا",25:"أسيوط",26:"سوهاج",27:"قنا",28:"أسوان",29:"الأقصر",31:"البحر الأحمر",32:"الوادي الجديد",33:"مطروح",34:"شمال سيناء",35:"جنوب سيناء",88:"خارج الجمهورية"}[E],O=parseInt(s.charAt(12))%2!==0,S=new Date(m,b-1,C);return{year:m,month:b,day:C,date:S.toLocaleDateString("en-uk",c),date_localized:S.toLocaleDateString(Y().props.locale,c),state:F,isMale:O}}return{extractPersonalDetails:e}}const ne={class:"overflow-hidden sm:rounded-lg"},de={class:k("grid grid-cols-2")},ie={__name:"HistoryDescriptionList",props:{},setup(e){return(s,c)=>(d(),u("div",ne,[l("dl",null,[l("div",de,[h(s.$slots,"default")])])]))}};function ue(e){const s=new Date(e),c=new Date;let f=c.getFullYear()-s.getFullYear();return(c.getMonth()<s.getMonth()||c.getMonth()===s.getMonth()&&c.getDate()<s.getDate())&&f--,Math.abs(f)}const ce={name:"ModifyIcon"},fe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-5 mr-2 -ml-1"};function he(e,s,c,f,$,m){return d(),u("svg",fe,[...s[0]||(s[0]=[l("path",{d:"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32l8.4-8.4z"},null,-1),l("path",{d:"M5.25 5.25a3 3 0 00-3 3v10.5a3 3 0 003 3h10.5a3 3 0 003-3V13.5a.75.75 0 00-1.5 0v5.25a1.5 1.5 0 01-1.5 1.5H5.25a1.5 1.5 0 01-1.5-1.5V8.25a1.5 1.5 0 011.5-1.5h5.25a.75.75 0 000-1.5H5.25z"},null,-1)])])}const I=v(ce,[["render",he]]),me={},_e={class:"overflow-hidden sm:rounded-lg py-4"},ge={class:"grid grid-cols-2"};function ye(e,s){return d(),u("div",_e,[l("dl",null,[l("div",ge,[h(e.$slots,"default")])])])}const L=v(me,[["render",ye]]),be={},pe={class:"text-sm font-medium text-gray-500"};function xe(e,s){return d(),u("dt",pe,[h(e.$slots,"default")])}const _=v(be,[["render",xe]]),ve={},$e={class:"mt-1 text-sm text-gray-900 dark:text-gray-100"};function we(e,s){return d(),u("dd",$e,[h(e.$slots,"default")])}const g=v(ve,[["render",we]]),y={__name:"DescriptionListItem",props:{colored:{type:Boolean,required:!1}},setup(e){return(s,c)=>(d(),u("div",{class:k(["px-4 py-3.5 col-span-1",{"bg-gray-50 dark:bg-gray-900":e.colored}])},[h(s.$slots,"default")],2))}},ke={key:0},De={class:"inline-flex items-center -space-x-px"},Me={key:0},Ne={key:0},Be={class:"sr-only"},Ce={key:1},Se={class:"sr-only"},He={__name:"Paginator",props:{links:Object},setup(e){return(s,c)=>e.links.length>3?(d(),u("div",ke,[l("div",De,[(d(!0),u(x,null,z(e.links,(f,$)=>(d(),u(x,{key:$},[f.url===null?(d(),u("div",Me,[f.label.includes("Previous")?(d(),u("div",Ne,[a(r(w),{href:"#",class:"block px-3 py-2 ml-0 leading-tight text-gray-500 bg-[#18181b] border border-white/10 rounded-l-lg hover:bg-red-900/20 hover:text-white","preserve-scroll":""},{default:t(()=>[l("span",Be,o(f.label),1),c[0]||(c[0]=l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1))]),_:2},1024)])):(d(),u("div",Ce,[a(r(w),{href:"#",class:"block px-3 py-2 leading-tight text-gray-500 bg-[#18181b] border border-white/10 rounded-r-lg hover:bg-red-900/20 hover:text-white"},{default:t(()=>[l("span",Se,o(f.label),1),c[1]||(c[1]=l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1))]),_:2},1024)]))])):(d(),p(r(w),{key:1,class:k({"z-10 px-3 py-2 leading-tight text-white border border-red-500/30 bg-red-600 hover:bg-red-700":f.active,"px-3 py-2 leading-tight text-gray-500 bg-[#18181b] border border-white/10 hover:bg-red-900/20 hover:text-white":!f.active}),href:f.url,innerHTML:f.label,"preserve-scroll":""},null,8,["class","href","innerHTML"]))],64))),128))])])):B("",!0)}},Ie={key:0,class:"relative overflow-x-auto shadow-md sm:rounded-lg pt-1"},Le={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},Te={class:"text-xs text-gray-100 uppercase bg-[#1a0505]/40 border-b border-red-500/20"},ze={key:0,class:"flex items-center justify-between pt-4 pb-2 mx-6","aria-label":"Table navigation"},Pe={key:0,class:"text-sm font-normal text-gray-500 dark:text-gray-400"},Ee={class:"font-semibold text-gray-900 dark:text-white"},Fe={class:"font-semibold text-gray-900 dark:text-white"},Oe={key:1,class:"flex items-center justify-center p-6 mt-4"},Ae={class:"text-center pb-8 text-gray-500"},Ve={__name:"Table",props:{links:Object,showingNumber:{type:Number,default:0},totalNumber:{type:Number,default:0},enablePaginator:{type:Boolean,default:!0}},setup(e){return(s,c)=>e.totalNumber?(d(),u("div",Ie,[l("table",Le,[l("thead",Te,[l("tr",null,[h(s.$slots,"Head")])]),l("tbody",null,[h(s.$slots,"Body")])]),e.enablePaginator&&e.totalNumber!==0?(d(),u("nav",ze,[e.showingNumber!==e.totalNumber?(d(),u("span",Pe,[i(o(s.__("Showing"))+" ",1),l("span",Ee,o(e.showingNumber),1),i(" "+o(s.__("of"))+" ",1),l("span",Fe,o(e.totalNumber),1),i(" "+o(s.__("Records"))+".",1)])):B("",!0),a(He,{dir:"ltr",links:e.links},null,8,["links"])])):B("",!0)])):(d(),u("div",Oe,[l("div",Ae,o(s.__("No data was found in the records.")),1)]))}},je={class:"px-6 py-3"},M={__name:"TableBody",props:{href:String},setup(e){return(s,c)=>(d(),u("td",je,[e.href?(d(),p(r(w),{key:0,href:e.href},{default:t(()=>[h(s.$slots,"default")]),_:3},8,["href"])):h(s.$slots,"default",{key:1})]))}},Ye={scope:"col",class:"px-6 py-3"},N={__name:"TableHead",props:{sortable:{type:Boolean,default:!1}},setup(e){return(s,c)=>(d(),u("th",Ye,[l("span",{class:k({"cursor-pointer hover:underline":e.sortable})},[h(s.$slots,"default")],2)]))}},qe={},Ge={class:"bg-[#18181b] border-b border-white/5 hover:bg-red-900/10 transition-colors duration-200"};function Re(e,s){return d(),u("tr",Ge,[h(e.$slots,"default")])}const Je=v(qe,[["render",Re]]),Ke={class:"py-8"},Qe={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Ue={class:"flex justify-between items-center mb-4"},Ze={class:"card-header"},We={class:"flex inline-flex gap-4"},Xe={class:"card-subheader"},et=["href"],tt=["href"],at=["href"],lt={class:"mb-2 ml-1 font-semibold"},st={class:"mb-2 ml-1 font-semibold"},ot={class:"px-4 py-3.5"},rt={class:"text-sm font-medium"},gt={__name:"EmployeeView",props:{employee:Object},setup(e){let{extractPersonalDetails:s}=re();T(()=>{P()});const c=e;return(f,$)=>(d(),u(x,null,[a(r(q),{title:r(n)("Employee View")},null,8,["title"]),a(A,null,{tabs:t(()=>[a(G)]),default:t(()=>[l("div",Ke,[l("div",Qe,[a(D,{class:"!mt-0"},{default:t(()=>[l("div",Ue,[l("h1",Ze,o(r(n)("Employee View")),1),l("div",We,[f.$page.props.auth.user.role==="admin"?(d(),p(H,{key:0,text:r(n)("Modify Employee Data"),href:f.route("employees.edit",{id:e.employee.id})},{default:t(()=>[a(I)]),_:1},8,["text","href"])):(d(),p(H,{key:1,text:r(n)("Modify Data"),href:f.route("profile.edit",{id:e.employee.id})},{default:t(()=>[a(I)]),_:1},8,["text","href"]))])]),l("h2",Xe,o(r(n)("Basic Info")),1),a(L,null,{default:t(()=>[a(y,{colored:""},{default:t(()=>[a(_,null,{default:t(()=>[i(o(r(n)("Name")),1)]),_:1}),a(g,null,{default:t(()=>[i(o(e.employee.name),1)]),_:1})]),_:1}),a(y,{colored:""},{default:t(()=>[a(_,null,{default:t(()=>[i(o(r(n)("ID")),1)]),_:1}),a(g,null,{default:t(()=>[i(o(e.employee.id),1)]),_:1})]),_:1}),a(y,null,{default:t(()=>[a(_,null,{default:t(()=>[i(o(r(n)("Phone")),1)]),_:1}),a(g,null,{default:t(()=>[l("a",{href:"tel:"+e.employee.phone},o(e.employee.phone),9,et)]),_:1})]),_:1}),a(y,null,{default:t(()=>[a(_,null,{default:t(()=>[i(o(r(n)("National ID")),1)]),_:1}),a(g,null,{default:t(()=>[i(o(e.employee.national_id),1)]),_:1})]),_:1}),a(y,{colored:""},{default:t(()=>[a(_,null,{default:t(()=>[i(o(r(n)("Email")),1)]),_:1}),a(g,null,{default:t(()=>[l("a",{href:"mailto:"+e.employee.email},o(e.employee.email),9,tt)]),_:1})]),_:1}),a(y,{colored:""},{default:t(()=>[a(_,null,{default:t(()=>[i(o(r(n)("Gender")),1)]),_:1}),a(g,null,{default:t(()=>[i(o(r(s)(e.employee.national_id).isMale?r(n)("Male"):r(n)("Female")),1)]),_:1})]),_:1}),a(y,null,{default:t(()=>[a(_,null,{default:t(()=>[i(o(r(n)("Birthday")),1)]),_:1}),a(g,null,{default:t(()=>[i(o(r(s)(e.employee.national_id).date_localized+" - "+r(ue)(r(s)(e.employee.national_id).date)+" "+r(n)("Years")),1)]),_:1})]),_:1}),a(y,{colored:""},{default:t(()=>[a(_,null,{default:t(()=>[i(o(r(n)("Hire Date")),1)]),_:1}),a(g,null,{default:t(()=>[i(o(e.employee.hired_on),1)]),_:1})]),_:1}),a(y,null,{default:t(()=>[a(_,null,{default:t(()=>[i(o(r(n)("Address")),1)]),_:1}),a(g,null,{default:t(()=>[l("a",{href:"https://www.google.com/maps/search/?api=1&query="+c.employee.address,target:"”_blank”"},o(e.employee.address),9,at)]),_:1})]),_:1})]),_:1})]),_:1}),a(D,null,{default:t(()=>[l("h2",lt,o(r(n)("Technical Info")),1),a(L,null,{default:t(()=>[a(y,null,{default:t(()=>[a(_,null,{default:t(()=>[i(o(r(n)("Access Permissions")),1)]),_:1}),a(g,null,{default:t(()=>[i(o(e.employee.user_role?e.employee.user_role.replace(/_/g," ").replace(/\b\w/g,m=>m.toUpperCase()):r(n)("Not Assigned")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(D,null,{default:t(()=>[l("h2",st,o(r(n)("History")),1),a(ie,null,{default:t(()=>[l("div",ot,[l("dt",rt,o(r(n)("Previous Shifts")),1),a(oe,{modalId:"Shifts Modal",title:r(n)("Click Here To See Shifts History"),modalHeader:r(n)("Previous Shifts"),hasCancel:!1},{default:t(()=>[a(Ve,{totalNumber:1,enablePaginator:!1},{Head:t(()=>[a(N,null,{default:t(()=>[i(o(r(n)("Shift")),1)]),_:1}),a(N,null,{default:t(()=>[i(o(r(n)("Starting From")),1)]),_:1}),a(N,null,{default:t(()=>[i(o(r(n)("Ending At")),1)]),_:1})]),Body:t(()=>[(d(!0),u(x,null,z(e.employee.employee_shifts,m=>(d(),p(Je,{key:m.id},{default:t(()=>[a(M,null,{default:t(()=>{var b;return[i(o(((b=m.shift)==null?void 0:b.name)??r(n)("DELETED SHIFT")),1)]}),_:2},1024),a(M,null,{default:t(()=>[i(o(m.start_date),1)]),_:2},1024),a(M,null,{default:t(()=>[i(o(m.end_date??r(n)("Current")),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["title","modalHeader"])])]),_:1})]),_:1})])])]),_:1})],64))}};export{gt as default};
