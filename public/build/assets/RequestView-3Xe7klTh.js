import{_ as v,b as k}from"./Card-COmB5SsI.js";import{f as n,o as d,b as e,a,u as s,_ as r,Z as q,w as x,e as l,t as o,h as u,n as y,F as j,N as g,k as h}from"./app-2Hl2Ns8d.js";import{r as $,_ as C}from"./ReqTabs-CVuJ94kx.js";import{r as R}from"./useRequestStatusTypes-7_WSO2es.js";import{r as B}from"./CheckCircleIcon-DJWm3W_z.js";import{r as S}from"./CalendarDaysIcon-F2E8-13S.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./GoBackNavLink-CPb7MqMP.js";function V(t,c){return d(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})])}function N(t,c){return d(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})])}function M(t,c){return d(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function A(t,c){return d(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const D={class:"py-8 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8 animate-fade-in-up"},Z=["href"],E={class:"p-8 border-b border-white/5 bg-white/[0.02]"},F={class:"flex flex-col md:flex-row md:justify-between md:items-start gap-6"},T={class:"flex items-center gap-3 mb-2"},U={class:"text-sm font-mono font-bold text-red-500/80"},z={class:"text-3xl font-black text-white tracking-tight"},O={key:0,class:"flex gap-3"},P={class:"p-8 space-y-8"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},H={class:"bg-white/5 rounded-xl p-5 border border-white/10"},I={class:"flex items-center gap-3 mb-3"},J={class:"w-10 h-10 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center justify-center"},K={class:"text-[10px] font-bold text-gray-500 uppercase tracking-widest"},L={class:"text-lg font-bold text-white"},Q={class:"bg-white/5 rounded-xl p-5 border border-white/10"},W={class:"flex items-center gap-3 mb-3"},X={class:"w-10 h-10 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center justify-center"},Y={class:"text-[10px] font-bold text-gray-500 uppercase tracking-widest"},ee={class:"text-lg font-bold text-white"},te={key:0,class:"text-gray-400"},se={key:0,class:"bg-white/5 rounded-xl p-5 border border-white/10"},re={class:"flex items-start gap-3"},oe={class:"w-10 h-10 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center justify-center flex-shrink-0"},ae={class:"text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-2"},ne={class:"text-gray-300 leading-relaxed"},de={key:1,class:"bg-white/5 rounded-xl p-5 border border-white/10"},ie={class:"flex items-start gap-3"},ce={class:"w-10 h-10 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center justify-center flex-shrink-0"},le={class:"text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-2"},ue=["href"],he={key:2,class:"bg-white/5 rounded-xl p-5 border border-white/10 text-center"},xe={class:"text-gray-500 text-sm italic"},qe={__name:"RequestView",props:{request:Object},setup(t){const c=t,w=i=>{switch(i){case 0:return"text-amber-400 bg-amber-400/10 border-amber-400/20";case 1:return"text-emerald-400 bg-emerald-400/10 border-emerald-400/20";case 2:return"text-rose-400 bg-rose-400/10 border-rose-400/20";default:return"text-gray-400 bg-gray-400/10 border-gray-400/20"}},b=i=>{switch(i){case 0:return r("Pending");case 1:return r("Approved");case 2:return r("Rejected");default:return r("Unknown")}},f=()=>{g.put(route("requests.update",{request:c.request.request_id}),{status:1},{onSuccess:()=>{h().success(r("Request Approved"))},onError:()=>{h().error(r("Failed to update request"))}})},_=()=>{g.put(route("requests.update",{request:c.request.request_id}),{status:2},{onSuccess:()=>{h().success(r("Request Rejected"))},onError:()=>{h().error(r("Failed to update request"))}})};return(i,me)=>(d(),n(j,null,[a(s(q),{title:s(r)("Request Details")},null,8,["title"]),a(k,null,{tabs:x(()=>[a(C)]),default:x(()=>[e("div",D,[e("a",{href:i.route("requests.index"),class:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors text-sm font-medium"},[a(s(V),{class:"w-4 h-4"}),l(" "+o(s(r)("Back to Requests")),1)],8,Z),a(v,{variant:"glass",class:"!mt-4 overflow-hidden"},{default:x(()=>{var m,p;return[e("div",E,[e("div",F,[e("div",null,[e("div",T,[e("span",U,"#"+o((m=t.request.request_id)==null?void 0:m.toString().padStart(4,"0")),1),e("span",{class:y([w(t.request.status),"inline-flex items-center px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border shadow-sm"])},o(b(t.request.status)),3)]),e("h1",z,o(t.request.type),1)]),["admin","owner"].includes(i.$page.props.auth.user.role)&&t.request.status===0&&t.request.user_id!==i.$page.props.auth.user.user_id?(d(),n("div",O,[e("button",{onClick:f,class:"inline-flex items-center gap-2 px-5 py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-bold text-sm transition-all shadow-lg shadow-emerald-600/20"},[a(s(B),{class:"w-5 h-5"}),l(" "+o(s(r)("Approve")),1)]),e("button",{onClick:_,class:"inline-flex items-center gap-2 px-5 py-2.5 bg-rose-600 hover:bg-rose-700 text-white rounded-xl font-bold text-sm transition-all shadow-lg shadow-rose-600/20"},[a(s(A),{class:"w-5 h-5"}),l(" "+o(s(r)("Reject")),1)])])):u("",!0)])]),e("div",P,[e("div",G,[e("div",H,[e("div",I,[e("div",J,[a(s(M),{class:"w-5 h-5 text-red-500"})]),e("div",null,[e("p",K,o(s(r)("Employee")),1),e("p",L,o(((p=t.request.employee)==null?void 0:p.name)||s(r)("Unknown")),1)])])]),e("div",Q,[e("div",W,[e("div",X,[a(s(S),{class:"w-5 h-5 text-red-500"})]),e("div",null,[e("p",Y,o(s(r)("Duration")),1),e("p",ee,[l(o(t.request.start_date)+" ",1),t.request.end_date?(d(),n("span",te," â†’ "+o(t.request.end_date),1)):u("",!0)])])])])]),t.request.remark?(d(),n("div",se,[e("div",re,[e("div",oe,[a(s(N),{class:"w-5 h-5 text-red-500"})]),e("div",null,[e("p",ae,o(s(r)("Remarks")),1),e("p",ne,o(t.request.remark),1)])])])):u("",!0),t.request.support_doc?(d(),n("div",de,[e("div",ie,[e("div",ce,[a(s($),{class:"w-5 h-5 text-red-500"})]),e("div",null,[e("p",le,o(s(r)("Supporting Document")),1),e("a",{href:t.request.support_doc,target:"_blank",class:"text-red-400 hover:text-red-300 font-bold text-sm underline flex items-center gap-2"},[l(o(s(r)("View Document"))+" ",1),a(s(R),{class:"w-4 h-4"})],8,ue)])])])):t.request.remark?u("",!0):(d(),n("div",he,[e("p",xe,o(s(r)("No remarks provided")),1)]))])]}),_:1})])]),_:1})],64))}};export{qe as default};
