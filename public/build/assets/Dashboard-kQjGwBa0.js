import{a as x,d as v,o as i,b as e,t as o,q as B,n as A,r as F,Q as f,T as $,c as j,_ as t,w as E,e as N,f as l,u as a,Z as q,g as r,h as w,j as I,i as h,F as M}from"./app-B0hmWrIt.js";import{_ as O}from"./AuthenticatedLayout-DVBZZxv2.js";import{_ as P}from"./NavLink-TT7O-nR-.js";import{_ as z}from"./GoBackNavLink-BUbZ5ERw.js";import{_ as u}from"./Card-DGziJDZR.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as L}from"./ToolTip-V3N1ib0M.js";import{P as T}from"./PrimaryButton-CmODOEUR.js";import{S as _}from"./sweetalert2-z6gKu1nJ.js";import{H as R}from"./HorizontalRule-dqgshUs7.js";import"./index-jUMEO9I8.js";const U={key:0,class:"p-4 my-4 border-l-4 border-gray-300 bg-gray-50 dark:border-gray-500 dark:bg-gray-800"},W={class:"text-xl italic font-medium leading-relaxed text-gray-900 dark:text-white"},V={class:"flex items-center divide-x-2 divide-gray-300 dark:divide-gray-700"},Q={class:"pt-1 text-sm text-gray-500 dark:text-gray-400"},Y={key:1,class:"relative mt-4"},Z={class:"relative z-10 mt-2"},J={class:"text-gray-800 sm:text-xl dark:text-white"},X={class:"pt-1 text-sm text-gray-500 dark:text-gray-400"},D={__name:"BlockQuote",props:{quote:{type:String,default:"We cannot solve problems with the kind of thinking we employed when we came up with them."},author:{type:String,default:"Albert Einstein"},style:{type:Number,default:1}},setup(s){return(c,m)=>s.style===1?(i(),x("blockquote",U,[e("p",W,'"'+o(s.quote)+'"',1),e("div",V,[e("cite",Q,"- "+o(s.author),1)])])):s.style===2?(i(),x("blockquote",Y,[m[0]||(m[0]=e("svg",{class:"absolute top-0 left-0 transform -translate-x-6 -translate-y-8 h-16 w-16 text-gray-100 dark:text-gray-700",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[e("path",{d:"M7.39762 10.3C7.39762 11.0733 7.14888 11.7 6.6514 12.18C6.15392 12.6333 5.52552 12.86 4.76621 12.86C3.84979 12.86 3.09047 12.5533 2.48825 11.94C1.91222 11.3266 1.62421 10.4467 1.62421 9.29999C1.62421 8.07332 1.96459 6.87332 2.64535 5.69999C3.35231 4.49999 4.33418 3.55332 5.59098 2.85999L6.4943 4.25999C5.81354 4.73999 5.26369 5.27332 4.84476 5.85999C4.45201 6.44666 4.19017 7.12666 4.05926 7.89999C4.29491 7.79332 4.56983 7.73999 4.88403 7.73999C5.61716 7.73999 6.21938 7.97999 6.69067 8.45999C7.16197 8.93999 7.39762 9.55333 7.39762 10.3ZM14.6242 10.3C14.6242 11.0733 14.3755 11.7 13.878 12.18C13.3805 12.6333 12.7521 12.86 11.9928 12.86C11.0764 12.86 10.3171 12.5533 9.71484 11.94C9.13881 11.3266 8.85079 10.4467 8.85079 9.29999C8.85079 8.07332 9.19117 6.87332 9.87194 5.69999C10.5789 4.49999 11.5608 3.55332 12.8176 2.85999L13.7209 4.25999C13.0401 4.73999 12.4903 5.27332 12.0713 5.85999C11.6786 6.44666 11.4168 7.12666 11.2858 7.89999C11.5215 7.79332 11.7964 7.73999 12.1106 7.73999C12.8437 7.73999 13.446 7.97999 13.9173 8.45999C14.3886 8.93999 14.6242 9.55333 14.6242 10.3Z",fill:"currentColor"})],-1)),e("div",Z,[e("p",J,[e("em",null,' "'+o(s.quote)+'" ',1)]),e("cite",X,"- "+o(s.author),1)])])):v("",!0)}},G={class:"w-full bg-gray-200 rounded-full dark:bg-gray-700 overflow-hidden"},C={__name:"ProgressBar",props:{percentage:Number,text:String,noText:{type:Boolean,default:!1},color:{type:String,default:"bg-purple-500"},textColor:{type:String,default:"text-purple-100"}},setup(s){const c=s,m=c.color+" "+c.textColor+(c.percentage===0?" !p-0 !text-black":"");return(k,S)=>(i(),x("div",G,[e("div",{class:A([m,"flex items-center justify-center h-full text-xs font-medium text-center p-0.5 leading-none rounded-full"]),style:B("width:"+(s.percentage>100?100:s.percentage)+"%")},o(s.noText?"â€‹":s.text??(s.percentage===0?"":s.percentage.toFixed(0)+"%")),7)]))}};function K(s){var g;const c=F(localStorage.getItem("lastApiCallTimestamp")||null),m="https://api.quotable.io/quotes/random?tags=Work|Motivational|Inspirational|Creativity";async function k(){try{const b=await fetch(m);if(!b.ok)throw new Error("API call error.");const y=await b.json();s.value=y[0],c.value=Date.now(),localStorage.setItem("lastApiCallTimestamp",c.value),localStorage.setItem("quote",JSON.stringify(y))}catch(b){throw new Error("Network response was NOT ok:",b)}}function S(){return c.value?Date.now()-c.value>=936e5:!0}S()?k():s.value=(g=JSON.parse(localStorage.getItem("quote")))==null?void 0:g[0]}const ee={class:"py-8"},te={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},se={class:"flex justify-between gap-4"},oe={class:"!card-header !mb-0"},ae={class:"text-xl"},le={class:"text-xs text-gray-200"},re={key:0,class:"text-sm"},ne={key:1,class:"text-sm"},ie={key:0,class:"mt-4"},ce={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4"},de={class:"text-sm text-white"},ue={class:"text-3xl font-bold mt-2 text-white"},fe={class:"text-sm text-gray-300"},me={class:"text-3xl font-bold mt-2"},he={class:"text-sm text-white"},ge={class:"text-3xl font-bold mt-2 text-white"},ye={class:"text-sm text-gray-300"},xe={class:"text-3xl font-bold mt-2"},be={class:"text-sm text-white"},we={class:"text-3xl font-bold mt-2 text-white"},_e={class:"flex flex-col md:flex-row justify-between md:gap-4"},pe={class:"text-2xl"},ve={class:"flex justify items-center"},ke={class:"text-2xl text-center font-semibold mb-4"},Se={class:"space-y-4"},Ce={class:"text-xl text-center"},Te={class:"text-center text-gray-700 text-sm"},De={class:"flex flex-col md:flex-row justify-between md:gap-4"},Ae={class:"text-2xl"},Fe={class:"mt-4 w-full flex flex-col"},Be={class:"flex justify-between align-middle mb-6 sm:mb-2"},$e={class:"font-medium"},je={class:"flex justify-between align-middle mb-6 sm:mb-2"},Ee={class:"font-medium"},Ne={class:"flex justify-between align-middle mb-6 sm:mb-2"},qe={class:"font-medium"},Ie={class:"text-2xl"},Me={class:"mt-4 grid grid-rows-3"},Oe={class:"flex flex-col lg:flex-row justify-between align-middle mb-6 sm:mb-2"},Pe={class:"w-full sm:w-1/3"},ze={class:"flex flex-col lg:flex-row justify-between align-middle mb-6 sm:mb-2"},He={class:"w-full sm:w-1/3"},Le={class:"flex flex-col lg:flex-row justify-between align-middle mb-6 sm:mb-2"},Re={class:"w-full sm:w-1/3"},Ue={__name:"Dashboard",props:{employee_stats:Object,attendance_status:Number,is_today_off:Boolean,is_owner:Boolean,owner_stats:Object},setup(s){const c=s,m=new Date().toLocaleDateString(f().props.locale,{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"}),k=$({}),S=j(()=>c.attendance_status===0?t("Clock in"):t("Clock out"));let g=c.attendance_status===0;E(()=>c.attendance_status,()=>{g=c.attendance_status===0});const b=()=>{const p=g?"attendance.dashboardSignIn":"attendance.dashboardSignOff";_.mixin({customClass:{cancelButton:"mx-4 text-white bg-red-700 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",confirmButton:"text-white bg-red-700 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"},buttonsStyling:!1}).fire({title:t("Confirm :signType for attendance for :today?",{signType:g?t("Sign in"):t("Sign off"),today:m}),html:g.value?"<b>"+t("Notes")+"</b><br>"+t("1. Attendance for non-remote employees can only be taken from inside the organization.")+"<br>"+t("2. You need to register sign-off here again before leaving, otherwise, your attendance will not be accounted."):"",icon:"info",showCancelButton:!0,confirmButtonText:t("Confirm"),cancelButtonText:t("Cancel"),reverseButtons:!0}).then(n=>{n.isConfirmed&&k.post(route(p,{id:f().props.auth.user.id}),{preserveScroll:!0,onError:()=>{f().props.errors.ip_error?_.fire(t("Attendance Error"),f().props.errors.ip_error,"error"):f().props.errors.no_ip?_.fire(t("IP Error"),f().props.errors.no_ip,"error"):f().props.errors.authorization_error?_.fire(t("Authorization Error"),f().props.errors.authorization_error,"error"):f().props.errors.day_off?_.fire(t("Today is OFF!"),f().props.errors.day_off,"error"):_.fire(t("Error"),t("Something went wrong.")+"</br>"+t("Please contact your administrator of this error"),"error")},onSuccess:()=>{_.fire(t("Action Registerd"),g?t("Don't forget to come here and sign-off before you leave so that the attendance gets registered!"):"","success")}})})},y=F(null);return N(()=>{K(y)}),(p,d)=>(i(),x(M,null,[l(a(q),{title:a(t)("Dashboard")},null,8,["title"]),l(O,null,{tabs:r(()=>[l(z),l(P,{href:p.route("dashboard.index"),active:p.route().current("dashboard.index")},{default:r(()=>[h(o(a(t)("Dashboard")),1)]),_:1},8,["href","active"])]),default:r(()=>[e("div",ee,[e("div",te,[e("div",se,[l(u,{class:A(["!mt-0",s.is_owner?"w-full":"w-full md:w-3/4"])},{default:r(()=>[e("h1",oe,o(a(t)("Welcome, :name",{name:p.$page.props.auth.user.name}))+"!",1)]),_:1},8,["class"]),s.is_owner?v("",!0):(i(),w(u,{key:0,class:"w-full md:w-1/4 !mt-0",vl:"","fancy-p":!1},{default:r(()=>[s.attendance_status!==2&&!s.is_today_off?(i(),x("form",{key:0,onSubmit:I(b,["prevent"]),class:"w-full h-full"},[l(T,{class:"w-full h-full flex justify-center"},{default:r(()=>[e("span",ae,[h(o(a(t)("Attendance :msg",{msg:S.value}))+" ",1),d[0]||(d[0]=e("br",null,null,-1)),e("span",le,o(a(t)("For"))+" "+o(a(m)),1)])]),_:1})],32)):(i(),w(T,{key:1,class:"w-full h-full flex justify-center !border-0 bg-red-600 cursor-not-allowed",disabled:""},{default:r(()=>[s.is_today_off?(i(),x("span",re,[h(o(a(t)("Today is off! ðŸ•ºðŸ•º")),1),d[1]||(d[1]=e("br",null,null,-1))])):(i(),x("span",ne,[h(o(a(t)("Attendance Taken Today! ðŸŽ‰")),1),d[2]||(d[2]=e("br",null,null,-1))]))]),_:1}))]),_:1}))]),s.is_owner?(i(),x("div",ie,[e("div",ce,[l(u,{class:"w-full !mt-0 bg-gradient-to-r from-red-500 to-red-800"},{default:r(()=>{var n;return[e("h2",de,o(a(t)("Total Staff")),1),e("p",ue,o(((n=s.owner_stats)==null?void 0:n.staffCount)??0),1)]}),_:1}),l(u,{class:"w-full !mt-0"},{default:r(()=>{var n;return[e("h2",fe,o(a(t)("Present Today")),1),e("p",me,o(((n=s.owner_stats)==null?void 0:n.presentToday)??0),1)]}),_:1}),l(u,{class:"w-full !mt-0 bg-gradient-to-r from-red-500 to-red-800"},{default:r(()=>{var n;return[e("h2",he,o(a(t)("Late Today")),1),e("p",ge,o(((n=s.owner_stats)==null?void 0:n.lateToday)??0),1)]}),_:1}),l(u,{class:"w-full !mt-0"},{default:r(()=>{var n;return[e("h2",ye,o(a(t)("Absent Today")),1),e("p",xe,o(((n=s.owner_stats)==null?void 0:n.absentToday)??0),1)]}),_:1}),l(u,{class:"w-full !mt-0 bg-gradient-to-r from-red-500 to-red-800"},{default:r(()=>{var n;return[e("h2",be,o(a(t)("Pending Requests")),1),e("p",we,o(((n=s.owner_stats)==null?void 0:n.pendingRequests)??0),1)]}),_:1})])])):v("",!0),e("div",_e,[l(u,{class:"w-full"},{default:r(()=>[e("h1",pe,o(a(t)("Quote of the day")),1),e("div",ve,[y.value?(i(),w(D,{key:0,class:"mb-0",style:2,quote:y.value.content,author:y.value.author},null,8,["quote","author"])):(i(),w(D,{key:1,class:"mb-0",style:2,quote:a(t)("Success is not the key to happiness. Happiness is the key to success. If you love what you are doing, you will be successful."),author:a(t)("Albert Scweitzer")},null,8,["quote","author"]))])]),_:1}),s.is_owner?v("",!0):(i(),w(u,{key:0,class:"w-full md:w-1/4",vl:""},{default:r(()=>[e("h1",ke,o(a(t)("Salary Info")),1),e("div",Se,[e("p",Ce,[d[3]||(d[3]=h("MYR ")),e("span",null,o(a(t)("VALUE NEED FROM UNEXIST DB")),1)]),l(R,{class:"!bg-neutral-300"}),e("p",Te,o(a(t)("Last Updated: VALUE NEED FROM UNEXIST DB")),1)])]),_:1}))]),e("div",De,[s.is_owner?v("",!0):(i(),w(u,{key:0,class:"w-full md:w-1/4"},{default:r(()=>[e("h1",Ae,o(a(t)("Data of :month",{month:new Date().toLocaleString(p.$page.props.locale,{month:"long"})})),1),e("div",Fe,[e("div",Be,[e("p",$e,o(a(t)("Work Days"))+": ",1),e("p",null,o(s.employee_stats.attendableThisMonth)+" "+o(a(t)("Days")),1)]),e("div",je,[e("p",Ee,o(a(t)("Weekends"))+": ",1),e("p",null,o(s.employee_stats.weekendsThisMonth)+" "+o(a(t)("Days")),1)]),e("div",Ne,[e("p",qe,o(a(t)("Holidays"))+": ",1),e("p",null,o(s.employee_stats.holidaysThisMonth)+" "+o(a(t)("Days")),1)])])]),_:1})),s.is_owner?v("",!0):(i(),w(u,{key:1,class:"w-full md:w-2/4"},{default:r(()=>[e("h1",Ie,o(a(t)("Your Attendance This Month")),1),e("div",Me,[e("div",Oe,[e("p",Pe,o(a(t)("Attended")+" "+s.employee_stats.totalAttendanceSoFar),1),l(C,{class:"col-span-3",color:"bg-green-500","no-text":"",percentage:s.employee_stats.totalAttendanceSoFar/s.employee_stats.attendableThisMonth*100,text:s.employee_stats.totalAbsenceSoFar+(s.employee_stats.totalAbsenceSoFar>0?a(t)("Day(s)"):"")},null,8,["percentage","text"])]),e("div",ze,[e("p",He,o(a(t)("Absented:"))+" "+o(s.employee_stats.absentedThisMonth),1),l(C,{"no-text":"",color:"bg-red-500",percentage:s.employee_stats.totalAbsenceSoFar/s.employee_stats.YearStats.absence_limit*100,text:s.employee_stats.totalAbsenceSoFar+(s.employee_stats.totalAbsenceSoFar>0?a(t)("Day(s)"):"")},null,8,["percentage","text"])]),e("div",Le,[e("p",Re,[h(o(a(t)("Hours:"))+" ",1),l(L,{direction:"bottom"},{default:r(()=>[h(o(a(t)("Number of Overtime/Undertime Hours (so far).")),1),d[4]||(d[4]=e("br",null,null,-1)),h(" "+o(a(t)("This value will be accounted for in the payroll, resulting in a reward or a penalty.")),1)]),_:1,__:[4]}),h(" "+o(s.employee_stats.hoursDifferenceSoFar.toFixed(0)+a(t)("h")),1)]),l(C,{class:"col-span-3",percentage:s.employee_stats.hoursDifferenceSoFar,text:s.employee_stats.hoursDifferenceSoFar===0?"":Math.abs(s.employee_stats.hoursDifferenceSoFar).toFixed(2)+" "+a(t)("Hours")+" "+(s.employee_stats.hoursDifferenceSoFar>0?a(t)("extra"):a(t)("late")),color:s.employee_stats.hoursDifferenceSoFar>0?"bg-green-500":"bg-red-500"},null,8,["percentage","text","color"])])])]),_:1}))])])])]),_:1})],64))}},st=H(Ue,[["__scopeId","data-v-8c5f94cc"]]);export{st as default};
