import{f as g,o as x,b as t,T as w,a as s,u as e,_ as r,Z as k,w as u,t as i,d as V,z as E,i as B,A as S,e as _,F as $,B as D,l as h}from"./app-CPP_pojj.js";import{a as j}from"./NavLink-xWss-cnr.js";import{_ as C}from"./EmployeeTabs-xjmpf3lQ.js";import{_ as d,a as c}from"./InputLabel-B7YFZbTw.js";import{_ as m}from"./TextInput-BVLaVCdB.js";import{o as U}from"./main-DBnUCtPb.js";import{_ as q}from"./Card-CK0H_5M3.js";import{S as f}from"./sweetalert2-z6gKu1nJ.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as N}from"./IdentificationIcon-C_qx1aGN.js";import{r as T}from"./MapPinIcon-BxPqkVQn.js";import{r as M}from"./BriefcaseIcon-BZyAycwB.js";import{r as P}from"./CalendarIcon-DTlKoV-J.js";import{r as Y}from"./ShieldCheckIcon-CwSgLShR.js";import{r as z}from"./CheckCircleIcon-BWZXzDl0.js";function I(p,n){return x(),g("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}const L={class:"py-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 space-y-10 animate-fade-in-up"},O={class:"flex flex-col md:flex-row md:items-center justify-between gap-6"},R={class:"space-y-1"},F={class:"text-3xl font-black text-white tracking-tight"},H={class:"text-gray-500 text-sm font-medium"},W={class:"flex items-center gap-3 px-4 py-2 bg-white/5 rounded-2xl border border-white/5 shadow-inner backdrop-blur-sm"},Z={class:"w-10 h-10 rounded-xl bg-gradient-to-br from-red-600 to-rose-700 flex items-center justify-center text-white shadow-lg shadow-red-600/20 font-black"},G={class:"p-8 md:p-10 relative space-y-12"},J={class:"space-y-8"},K={class:"flex items-center gap-3 pb-4 border-b border-white/5"},Q={class:"text-xs font-black uppercase tracking-[0.2em] text-white"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-8 text-gray-300"},ee={class:"space-y-2"},te={class:"space-y-2"},se={class:"space-y-8"},oe={class:"flex items-center gap-3 pb-4 border-b border-white/5"},re={class:"text-xs font-black uppercase tracking-[0.2em] text-white"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-8 text-gray-300"},le={class:"space-y-2"},ie={class:"space-y-2"},ne={class:"space-y-2 md:col-span-2"},de={class:"space-y-8"},ce={class:"flex items-center gap-3 pb-4 border-b border-white/5"},me={class:"text-xs font-black uppercase tracking-[0.2em] text-white"},pe={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},ue={class:"space-y-2"},he={class:"relative group"},_e={class:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none z-10 opacity-30 group-focus-within:opacity-100 transition-opacity"},fe={class:"space-y-2"},ge={class:"relative group"},xe={class:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none z-10"},ye={value:"",disabled:""},be={value:"admin",class:"bg-gray-900"},ve={value:"employee",class:"bg-gray-900"},we={class:"p-8 bg-white/[0.02] border-t border-white/5 flex flex-col md:flex-row items-center justify-between gap-6 backdrop-blur-md"},ke={class:"flex items-center gap-4 w-full md:w-auto"},Ve=["disabled"],Ee={__name:"EmployeeEdit",props:{employee:Object,href:String,shifts:Object,roles:Object},setup(p){const n=p,o=w({name:n.employee.name,ic_number:n.employee.national_id,email:n.employee.email,phone:n.employee.phone,address:n.employee.address,hired_on:n.employee.hired_on,role:n.employee.user_role??""}),y=()=>{o.hired_on=D(o.hired_on).format("YYYY-MM-DD"),o.put(route("employees.update",{employee:n.employee.id}),{preserveScroll:!0,onError:()=>{h().error(r("Error Updating Employee"))},onSuccess:()=>{h().success(r("Employee Details Updated Successfully"))}})},b=()=>{f.mixin({customClass:{cancelButton:"mx-2 px-6 py-2 rounded-xl text-sm font-bold bg-white/5 text-white border border-white/10 hover:bg-white/10 transition-all",confirmButton:"mx-2 px-6 py-2 rounded-xl text-sm font-bold bg-red-600 text-white hover:bg-red-700 transition-all shadow-lg shadow-red-500/20"},buttonsStyling:!1}).fire({title:r("Are you sure?"),text:r("This will permanently remove the employee from the system."),icon:"warning",showCancelButton:!0,confirmButtonText:r("Yes, Delete"),cancelButtonText:r("Cancel"),reverseButtons:!0}).then(a=>{a.isConfirmed&&o.delete(route("employees.destroy",{employee:n.employee.id}),{preserveScroll:!0,onError:()=>{h().error(r("Error Removing Employee"))},onSuccess:()=>{f.fire(r("Employee Removed!"),"","success")}})})};return(v,a)=>(x(),g($,null,[s(e(k),{title:e(r)("Edit Employee")},null,8,["title"]),s(j,null,{tabs:u(()=>[s(C)]),default:u(()=>[t("div",L,[t("div",O,[t("div",R,[t("h1",F,i(e(r)("Edit Employee Profile")),1),t("p",H,i(e(r)("Modify essential details for :name to maintain accurate records.",{name:p.employee.name})),1)]),t("div",W,[t("div",Z,i(p.employee.name.charAt(0)),1)])]),t("form",{onSubmit:V(y,["prevent"]),class:"space-y-8"},[s(q,{variant:"glass",class:"!mt-0 overflow-hidden relative group"},{default:u(()=>[a[7]||(a[7]=t("div",{class:"absolute top-0 right-0 w-64 h-64 bg-red-600/5 rounded-full blur-3xl -mr-32 -mt-32"},null,-1)),t("div",G,[t("div",J,[t("div",K,[s(e(N),{class:"w-5 h-5 text-red-500"}),t("h3",Q,i(e(r)("Identity Verification")),1)]),t("div",X,[t("div",ee,[s(d,{for:"name",value:e(r)("Full Name")},null,8,["value"]),s(m,{id:"name",type:"text",modelValue:e(o).name,"onUpdate:modelValue":a[0]||(a[0]=l=>e(o).name=l),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),s(c,{message:e(o).errors.name},null,8,["message"])]),t("div",te,[s(d,{for:"ic_number",value:e(r)("National ID (IC)")},null,8,["value"]),s(m,{id:"ic_number",type:"number",modelValue:e(o).ic_number,"onUpdate:modelValue":a[1]||(a[1]=l=>e(o).ic_number=l),required:""},null,8,["modelValue"]),s(c,{message:e(o).errors.ic_number},null,8,["message"])])])]),t("div",se,[t("div",oe,[s(e(T),{class:"w-5 h-5 text-red-500"}),t("h3",re,i(e(r)("Contact Details")),1)]),t("div",ae,[t("div",le,[s(d,{for:"phone",value:e(r)("Phone Number")},null,8,["value"]),s(m,{id:"phone",type:"text",modelValue:e(o).phone,"onUpdate:modelValue":a[2]||(a[2]=l=>e(o).phone=l),required:""},null,8,["modelValue"]),s(c,{message:e(o).errors.phone},null,8,["message"])]),t("div",ie,[s(d,{for:"email",value:e(r)("Email Address")},null,8,["value"]),s(m,{id:"email",type:"email",modelValue:e(o).email,"onUpdate:modelValue":a[3]||(a[3]=l=>e(o).email=l),required:""},null,8,["modelValue"]),s(c,{message:e(o).errors.email},null,8,["message"])]),t("div",ne,[s(d,{for:"address",value:e(r)("Residential Address")},null,8,["value"]),s(m,{id:"address",type:"text",modelValue:e(o).address,"onUpdate:modelValue":a[4]||(a[4]=l=>e(o).address=l),required:""},null,8,["modelValue"]),s(c,{message:e(o).errors.address},null,8,["message"])])])]),t("div",de,[t("div",ce,[s(e(M),{class:"w-5 h-5 text-red-500"}),t("h3",me,i(e(r)("Organizational Context")),1)]),t("div",pe,[t("div",ue,[s(d,{for:"hired_on",value:e(r)("Hire Date")},null,8,["value"]),t("div",he,[t("div",_e,[s(e(P),{class:"w-4 h-4 text-red-500"})]),s(e(U),{id:"hired_on",modelValue:e(o).hired_on,"onUpdate:modelValue":a[5]||(a[5]=l=>e(o).hired_on=l),class:"datepicker-modern","enable-time-picker":!1,dark:E("isDark").value,required:""},null,8,["modelValue","dark"])]),s(c,{message:e(o).errors.hired_on},null,8,["message"])]),t("div",fe,[s(d,{for:"role",value:e(r)("Permissions Level")},null,8,["value"]),t("div",ge,[t("div",xe,[s(e(Y),{class:"w-4 h-4 text-red-500 opacity-40 group-focus-within:opacity-100 transition-opacity"})]),B(t("select",{id:"role","onUpdate:modelValue":a[6]||(a[6]=l=>e(o).role=l),class:"block w-full pl-10 pr-4 py-2.5 bg-white/5 border border-white/10 rounded-2xl text-sm text-gray-100 appearance-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500/50 transition-all outline-none",required:""},[t("option",ye,i(e(r)("Select Role")),1),t("option",be,i(e(r)("Admin")),1),t("option",ve,i(e(r)("Employee")),1)],512),[[S,e(o).role]])]),s(c,{message:e(o).errors.role},null,8,["message"])])])])]),t("div",we,[t("button",{type:"button",onClick:b,class:"flex items-center gap-2 text-[10px] font-black text-rose-500/40 hover:text-rose-500 transition-all uppercase tracking-[0.2em] group/del"},[s(e(I),{class:"w-4 h-4 group-hover/del:rotate-6 transition-transform"}),_(" "+i(e(r)("Purge Employee Data")),1)]),t("div",ke,[t("button",{type:"submit",disabled:e(o).processing,class:"w-full md:w-auto flex items-center justify-center gap-2 px-10 py-3.5 bg-red-600 hover:bg-red-700 text-white rounded-2xl font-black text-xs uppercase tracking-[0.2em] transition-all shadow-xl shadow-red-600/30 active:scale-95 disabled:opacity-50"},[s(e(z),{class:"w-4 h-4"}),_(" "+i(e(r)("Update Profile")),1)],8,Ve)])])]),_:1})],32)])]),_:1})],64))}},Ie=A(Ee,[["__scopeId","data-v-ba62c042"]]);export{Ie as default};
