import{f as c,o as u,b as e,T as S,l as V,a,u as t,_ as r,Z as L,w as h,e as b,t as l,F as f,s as w,v as R,d as $,y,z as q,A as k,E as j,k as v,Q as B}from"./app-Da_q7YT1.js";import{_ as C,b as A}from"./Card-Ce8TQ4JY.js";import{_,a as g}from"./InputLabel-BX036740.js";import{P as D}from"./PrimaryButton-CnzU0xFW.js";import{_ as T}from"./ReqTabs-CSRyjeLa.js";import{o as Z}from"./main-JjRc6KKQ.js";import{r as E}from"./CalendarDaysIcon-ZzQ6FME1.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./GoBackNavLink-DlzU94TP.js";function Y(n,p){return u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function z(n,p){return u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function F(n,p){return u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})])}const I={class:"py-8 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8 animate-fade-in-up"},N={class:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"},P={class:"lg:col-span-3 space-y-6"},U={class:"absolute -right-4 -top-4 opacity-5 group-hover:opacity-10 transition-opacity"},H={class:"text-lg font-bold text-white mb-6 flex items-center gap-2"},O={class:"space-y-6"},Q={class:"flex items-center justify-between mb-2"},G={class:"flex flex-col"},J={class:"text-sm font-bold text-white"},K={class:"text-[10px] uppercase tracking-wider text-gray-500"},W={class:"text-right"},X={class:"text-lg font-black text-red-500"},ee={class:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden"},te={class:"p-6 rounded-2xl bg-emerald-500/5 border border-emerald-500/10 backdrop-blur-sm"},se={class:"text-emerald-400 font-bold mb-2 flex items-center gap-2 uppercase tracking-tighter text-sm font-mono"},ae={class:"text-[11px] text-gray-400 leading-relaxed"},re={class:"lg:col-span-9"},oe={class:"p-8 border-b border-white/5 bg-white/[0.02]"},le={class:"text-3xl font-black text-white tracking-tight"},ne={class:"text-gray-400 text-sm mt-1"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},de={class:"space-y-1.5"},ce={class:"relative group"},ue={selected:"",value:"",class:"bg-[#18181b]"},pe=["value"],me={class:"space-y-1.5"},he={class:"space-y-1.5"},fe=["placeholder"],ve={class:"flex items-center justify-end pt-4 border-t border-white/5"},_e={class:"font-black uppercase tracking-widest text-sm"},Se={__name:"RequestCreate",props:{types:Array,leaveBalances:Array},setup(n){const p=["Annual Leave","Sick Leave","Emergency Leave"],s=S({type:"",date:"",remark:""});V(()=>s.type,d=>{d==="leave"&&(s.date="")});const M=()=>{Object.keys(s.date).forEach(function(d){s.date[d]&&!/^\d{4}-\d{2}-\d{2}$/.test(s.date[d])&&(s.date[d]=k(s.date[d]).format("YYYY-MM-DD"))}),s.post(route("requests.store"),{preserveScroll:!0,onError:()=>{B().props.errors.past_leave?v().error(B().props.errors.past_leave):v().error(r("Error Creating Request"))},onSuccess:()=>{v().success(r("Request Created Successfully")),s.reset()}})};return(d,i)=>(u(),c(f,null,[a(t(L),{title:t(r)("Request Leave")},null,8,["title"]),a(A,null,{tabs:h(()=>[a(T)]),default:h(()=>[e("div",I,[e("div",N,[e("aside",P,[a(C,{variant:"glass",class:"!mt-0 relative overflow-hidden group"},{default:h(()=>[e("div",U,[a(t(Y),{class:"w-32 h-32 text-white"})]),e("h2",H,[a(t(E),{class:"w-5 h-5 text-red-500"}),b(" "+l(t(r)("Leave Balances")),1)]),e("div",O,[(u(),c(f,null,w(p,o=>{var x;return e("div",{key:o,class:"group/item"},[e("div",Q,[e("div",G,[e("span",J,l(t(r)(o)),1),e("span",K,l(t(r)("Remaining Days")),1)]),e("div",W,[e("span",X,l(n.leaveBalances&&n.leaveBalances.find(m=>m.leave_type===o)?n.leaveBalances.find(m=>m.leave_type===o).balance:0),1)])]),e("div",ee,[e("div",{class:"h-full bg-gradient-to-r from-red-600 to-red-400 rounded-full group-hover/item:opacity-80 transition-all shadow-[0_0_10px_rgba(239,68,68,0.3)]",style:R({width:`${Math.min((n.leaveBalances&&((x=n.leaveBalances.find(m=>m.leave_type===o))==null?void 0:x.balance)||0)*7,100)}%`})},null,4)])])}),64))])]),_:1}),e("div",te,[e("h4",se,[a(t(z),{class:"w-4 h-4"}),b(" "+l(t(r)("Important")),1)]),e("p",ae,l(t(r)("Please ensure all required documents are ready if you are applying for Sick Leave or long-term Absence.")),1)])]),e("main",re,[a(C,{variant:"glass",class:"!mt-0 overflow-hidden relative"},{default:h(()=>[e("div",oe,[e("h1",le,l(t(r)("Initiate Request")),1),e("p",ne,l(t(r)("Apply for your time-off with details below.")),1)]),e("form",{onSubmit:$(M,["prevent"]),class:"p-8 space-y-8"},[e("div",ie,[e("div",de,[a(_,{for:"type_id",value:t(r)("Type of Leave"),class:"!mb-0"},null,8,["value"]),e("div",ce,[y(e("select",{id:"type_id",class:"w-full bg-white/5 border border-white/10 text-gray-100 text-sm rounded-xl focus:ring-red-500 focus:border-red-500 block p-3 pr-10 appearance-none transition-all","onUpdate:modelValue":i[0]||(i[0]=o=>t(s).type=o)},[e("option",ue,l(t(r)("Choose a Leave Type")),1),(u(),c(f,null,w(p,o=>e("option",{key:o,value:o,class:"bg-[#18181b]"},l(o),9,pe)),64))],512),[[q,t(s).type]]),i[3]||(i[3]=e("div",{class:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none text-gray-500"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),a(g,{class:"mt-2",message:t(s).errors.type},null,8,["message"])]),e("div",me,[a(_,{for:"date",value:t(r)("Date Range selection"),class:"!mb-0"},null,8,["value"]),a(t(Z),{id:"date",modelValue:t(s).date,"onUpdate:modelValue":i[1]||(i[1]=o=>t(s).date=o),class:"modern-datepicker",placeholder:t(r)("Select Date..."),"enable-time-picker":!1,"min-date":t(s).type==="leave"?t(k)().tz().format():"",dark:!0,range:"",required:""},null,8,["modelValue","placeholder","min-date"]),a(g,{class:"mt-2",message:t(s).errors.date},null,8,["message"])])]),e("div",he,[a(_,{for:"remark",value:t(r)("Remark / Reason"),class:"!mb-0"},null,8,["value"]),y(e("textarea",{id:"remark",class:"w-full bg-white/5 border border-white/10 text-gray-100 text-sm rounded-xl focus:ring-red-500 focus:border-red-500 block p-4 min-h-[120px] transition-all placeholder:text-gray-600","onUpdate:modelValue":i[2]||(i[2]=o=>t(s).remark=o),autocomplete:"off",placeholder:t(r)("I will be absent for 3 days because...")},null,8,fe),[[j,t(s).remark]]),a(g,{class:"mt-2",message:t(s).errors.remark},null,8,["message"])]),e("div",ve,[a(D,{class:"!bg-red-600 hover:!bg-red-700 !rounded-xl !px-10 !py-4 !text-white flex items-center gap-3 transition-all shadow-xl hover:shadow-red-500/20 group",disabled:t(s).processing},{default:h(()=>[e("span",_e,l(t(r)("Submit Request")),1),a(t(F),{class:"w-5 h-5 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]),_:1},8,["disabled"])])],32)]),_:1})])])])]),_:1})],64))}};export{Se as default};
